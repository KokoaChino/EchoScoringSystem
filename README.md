# é¡¹ç›®æ–‡æ¡£

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-1.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-1.png?v=3)



## ğŸ“– é¡¹ç›®ç®€ä»‹

### 1. é¡¹ç›®èƒŒæ™¯

åœ¨ã€Šé¸£æ½®ã€‹è¿™æ¬¾æ¸¸æˆä¸­ï¼Œ**å£°éª¸**æ˜¯æŒ‡ä¸€ç§å…·æœ‰ç‰¹æ®Šèƒ½åŠ›å’Œå±æ€§çš„è™šæ‹Ÿç”Ÿç‰©

ä¸€ä¸ªå£°éª¸å…·æœ‰çš„å±æ€§å¦‚ä¸‹ï¼š

* 1 ä¸ªä¸»è¯æ¡
* 1 ä¸ª `Cost` å€¼
* 5 ä¸ªå‰¯è¯æ¡

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-2.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-2.png?v=3)

ç³»ç»Ÿä¼šæ ¹æ®å…¶å±æ€§å€¼ä¸è§’è‰²çš„åŒ¹é…ç¨‹åº¦ï¼ˆç›¸å¯¹åº”çš„è¯æ¡æƒé‡ï¼‰æ¥ä¸ºå…¶è¯„åˆ†

ä¸€ä¸ªè§’è‰²æœ€å¤šå¯ç©¿æˆ´ 5 ä¸ªå£°éª¸ï¼Œä¸”å£°éª¸çš„æ€» `Cost` å€¼ä¸å¾—å¤§äº 12

### 2. é¡¹ç›®ç›®çš„

ç”¨äºå¸®åŠ©ç©å®¶ä¸ºè‡ªå·±å–œæ¬¢çš„è§’è‰²æ­é…å‡ºæœ€åˆé€‚çš„ä¸€å¥—å£°éª¸ç»„åˆ

å¸®åŠ©ç©å®¶ä½œå‡ºå†³ç­–ï¼Œä¼˜åŒ–è§’è‰²ã€æé«˜æˆ˜æ–—èƒ½åŠ›

### 3. é¡¹ç›®è¯´æ˜

1. é¡¹ç›®åªå…³å¿ƒå£°éª¸çš„å‰¯è¯æ¡å±æ€§ï¼Œå¹¶ä¸”ä»¥æ­¤ä¸ºä¾æ®ä½œå‡ºè¯„åˆ†

2. é¡¹ç›®ä¸å…³å¿ƒå£°éª¸çš„æŠ€èƒ½ï¼Œä¸»è¯æ¡å±æ€§ï¼Œå¥—è£…æ•ˆæœç­‰ç­‰

3. é¡¹ç›®é»˜è®¤å±æ€§ï¼š

   * è§’è‰²ï¼š
     * äº”æ˜Ÿè§’è‰²ï¼š90 çº§ï¼Œ0 å…±é¸£é“¾ï¼Œæ»¡æŠ€èƒ½
     * å››æ˜Ÿè§’è‰²ï¼š90 çº§ï¼Œ6 å…±é¸£é“¾ï¼Œæ»¡æŠ€èƒ½
   * æ­¦å™¨ï¼šå¯¹åº”è§’è‰²ä¸“æ­¦ 90 çº§ï¼ˆæ­¦å™¨å¯ä»¥å»è§’è‰²åŸºç¡€å±æ€§æ¨¡å—è®¾ç½®ï¼‰ï¼Œè°æŒ¯ 1 é˜¶

   * å£°éª¸ï¼š5 æ˜Ÿçš„æ»¡è°ƒè°å£°éª¸

4. ç›®å‰æœ‰ç»å¤§éƒ¨åˆ†çš„è§’è‰²é»˜è®¤æƒé‡éƒ½ç”±æœå¯»æ”»ç•¥å¾—å‡ºï¼Œç­‰æˆ‘å…»åˆ°äº†å†è¿›è¡Œäººå·¥é…ç½®



## ğŸš€ å¿«é€Ÿå¼€å§‹

### âš™ï¸ ç¯å¢ƒè¦æ±‚

|   ç¯å¢ƒ     |   ç‰ˆæœ¬    | æœåŠ¡ç«¯å£ |     å¤‡æ³¨     |
| :-------: | :------: | :------: | :----------: |
|    JDK    |    17    |    -     |   ä¸¥æ ¼åŒ¹é…   |
|  Node.js  | 20.16.0  |    -     |  LTSç‰ˆæœ¬     |
|   MySQL   |   5.7    |   3306   |  æœ€ä½è¦æ±‚    |
|   Redis   |  5.0+    |   6379   |  å…¼å®¹ç‰ˆæœ¬    |
| RabbitMQ  |   3.8    |   5672   | ç®¡ç†ç«¯å£ 15672 |
|   Nacos   |  2.4.3   |   8848   |  æœåŠ¡æ³¨å†Œä¸­å¿ƒ  |
| Sentinel  |  1.8.8   |   8080   |  æµé‡æ§åˆ¶å°   |
|   Seata   |  2.1.0   |   8091   | ç®¡ç†ç«¯å£ 7091 |
|  cpolar   |    -     |   4000   | å†…ç½‘ç©¿é€å·¥å…·  |

â— **ç‰ˆæœ¬è­¦å‘Š**ï¼š

æœ¬é¡¹ç›®ä½¿ç”¨ **ç²¾ç¡®ç‰ˆæœ¬é”å®š** ç­–ç•¥ï¼Œè‹¥ä½¿ç”¨æ›´é«˜ç‰ˆæœ¬ç»„ä»¶å¯èƒ½å¯¼è‡´å…¼å®¹æ€§é—®é¢˜

ï¼ˆæµ‹è¯•é€šè¿‡ç‰ˆæœ¬è§ä¸Šæ–‡ï¼Œå»ºè®®ä½¿ç”¨ç›¸åŒç‰ˆæœ¬é¿å…ç¯å¢ƒé—®é¢˜ï¼‰

### ğŸ”§ å¯åŠ¨æ­¥éª¤

#### 1. ä¸­é—´ä»¶æœåŠ¡å¯åŠ¨

* **Redis**ï¼šï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰

  ```sh
  redis-server 
  ```

* **RabbitMQ**ï¼šï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰

  ```sh
  rabbitmq-server
  ```
  
  è®¿é—®ç®¡ç†å°ï¼šhttp://localhost:15672

* **Nacos**ï¼šï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰

  ```sh
  cd nacos/bin
  startup.cmd -m standalone
  ```
  
  è®¿é—®æ§åˆ¶å°ï¼šhttp://localhost:8848/nacos

* **Sentinel**ï¼šï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰

  ```sh
  java -jar sentinel-dashboard-1.8.8.jar
  ```
  
  è®¿é—®æ§åˆ¶å°ï¼šhttp://localhost:8080
  
  è´¦æˆ·ï¼šsentinel
  
  å¯†ç ï¼šsentinel

* **Seata**ï¼šï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰

  ```sh
  cd seata/bin
  seata-server.bat
  ```
  
  è®¿é—®æ§åˆ¶å°ï¼šhttp://localhost:7091
  
  è´¦æˆ·ï¼šseata
  
  å¯†ç ï¼šseata

#### 2. æ•°æ®åº“åˆå§‹åŒ–

```sh
# åˆ›å»ºæ‰€æœ‰æœåŠ¡æ•°æ®åº“ï¼ˆéœ€é€ä¸ªæ‰§è¡Œï¼‰
mysql -u root -p -e "CREATE DATABASE auth_service_db CHARACTER SET utf8mb4;"
mysql -u root -p -e "CREATE DATABASE echo_service_db CHARACTER SET utf8mb4;"
mysql -u root -p -e "CREATE DATABASE message_service_db CHARACTER SET utf8mb4;"
mysql -u root -p -e "CREATE DATABASE pay_service_db CHARACTER SET utf8mb4;"

# å¯¼å…¥å„æœåŠ¡è¡¨ç»“æ„ï¼ˆæ³¨æ„æ›¿æ¢å®é™…è·¯å¾„ï¼‰
mysql -u root -p auth_service_db < ./sql/auth_service_db.sql
mysql -u root -p echo_service_db < ./sql/echo_service_db.sql
mysql -u root -p message_service_db < ./sql/message_service_db.sql
mysql -u root -p pay_service_db < ./sql/pay_service_db.sql
```

**å¯è§†åŒ–æ“ä½œæŒ‡å—**

1. æ–°å»ºè¿æ¥ -> è¾“å…¥ root/123456

2. é€ä¸ªåˆ›å»ºä»¥ä¸‹æ•°æ®åº“ï¼š

   |     æ•°æ®åº“åç§°     |      å­—ç¬¦é›†/æ’åºè§„åˆ™       |
   | :----------------: | :------------------------: |
   |  auth_service_db   | utf8mb4/utf8mb4_general_ci |
   |  echo_service_db   | utf8mb4/utf8mb4_general_ci |
   | message_service_db | utf8mb4/utf8mb4_general_ci |
   |   pay_service_db   | utf8mb4/utf8mb4_general_ci |

3. é€ä¸ªåŒå‡»æ•°æ®åº“ -> å³é”®è¿è¡Œå¯¹åº”SQLæ–‡ä»¶

#### 3. å†…ç½‘ç©¿é€é…ç½®
```sh
# å¯åŠ¨ cpolarï¼ˆéœ€æœ¬åœ°å®‰è£…ï¼‰
cd D:\software\cpolar # ï¼ˆæ³¨æ„æ›¿æ¢å®é™…è·¯å¾„ï¼‰
cpolar.exe http 4000 # ç”Ÿæˆå…¬ç½‘åœ°å€åï¼Œæ›¿æ¢ pay-service æœåŠ¡ application-alipay.yml ä¸­çš„ notifyUrl
```

#### 4. ä¿®æ”¹é…ç½®æ–‡ä»¶

âš ï¸ **æ”¯ä»˜å®æ²™ç®±å¿…æ”¹é¡¹**

ä¿®æ”¹ `pay-service` çš„ `application-alipay.yml`ï¼š

```yml
alipay:
  easy:
    appId: [æ›¿æ¢ä¸ºæ‚¨çš„æ²™ç®±APPID]
    merchantPrivateKey: [æ›¿æ¢ä¸ºæ‚¨çš„åº”ç”¨ç§é’¥]
    alipayPublicKey: [æ›¿æ¢ä¸ºæ”¯ä»˜å®å…¬é’¥]
    notifyUrl: [æ›¿æ¢ä¸ºæ‚¨çš„cpolarç©¿é€åœ°å€]/api/pay/notify
```
âš ï¸ **é‚®ç®±å¿…æ”¹é¡¹**

ä¿®æ”¹ `message-service` çš„ `application-email.yml`ï¼š

```yml
spring:
  mail:
    host: smtp.163.com
    username: [æ›¿æ¢ä¸ºæ‚¨çš„é‚®ç®±è´¦å·]
    password: [æ›¿æ¢ä¸ºæ‚¨çš„é‚®ç®±å¯†ç ]
    port: 465
    properties:
      from: [æ›¿æ¢ä¸ºæ‚¨çš„é‚®ç®±è´¦å·]
      mail:
        smtp:
          socketFactory:
            class: javax.net.ssl.SSLSocketFactory
```

#### 5. åç«¯æœåŠ¡å¯åŠ¨
```sh
# ç½‘å…³æœåŠ¡
cd gateway
mvn spring-boot:run # ç«¯å£ 4000

# å„å¾®æœåŠ¡ï¼ˆéœ€åˆ†åˆ«å¯åŠ¨ï¼‰
cd services/auth-service
mvn spring-boot:run # ç«¯å£ 4050

cd services/echo-service
mvn spring-boot:run # ç«¯å£ 4060

cd services/message-service
mvn spring-boot:run # ç«¯å£ 4070

cd services/pay-service
mvn spring-boot:run # ç«¯å£ 4080
```

#### 6. å‰ç«¯å¯åŠ¨
```bash
cd frontend
npm install
npm run dev
```

è®¿é—®åœ°å€ï¼šhttp://localhost:5173 å³å¯

âš ï¸ æ³¨æ„äº‹é¡¹

1. MySQL è´¦å·é»˜è®¤ä¸º `root/123456`ï¼Œè‹¥ä¸åŒéœ€ä¿®æ”¹å„æœåŠ¡ `application-datasource.yml`
2. Nacos éœ€ä¿æŒè¿è¡ŒçŠ¶æ€ï¼Œå¦åˆ™æœåŠ¡æ³¨å†Œå°†å¤±è´¥
3. æ”¯ä»˜å®æ²™ç®±é…ç½®éœ€è‡ªè¡Œç”³è¯·åº”ç”¨ ID å’Œå¯†é’¥ï¼Œå¹¶æ›¿æ¢ `application-alipay.yml` ä¸­çš„æ•æ„Ÿä¿¡æ¯
4. æœ¬åœ°å¼€å‘æ—¶å»ºè®®å…³é—­é˜²ç«å¢™ï¼Œç¡®ä¿ä¸­é—´ä»¶ç«¯å£å¯è®¿é—®



## ğŸ“Œ ä½¿ç”¨è¯´æ˜

åœ¨çº¿è®¿é—®åœ°å€ï¼šhttp://8.138.214.176:5173

æœ¬åœ°è®¿é—®åœ°å€ï¼šhttp://localhost:5173

### â¤ è´¦å·ä½“ç³»è¯´æ˜

#### 1. æ³¨å†Œè´¦å·

ç‚¹å‡»å‰å¾€**æ³¨å†Œè´¦å·**

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-3.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-3.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-4.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-4.png?v=3)

**å¡«å†™ç”¨æˆ·åï¼Œå¯†ç ç­‰ç›¸å…³ä¿¡æ¯**åï¼Œå®Œæˆ**æˆ‘æ˜¯äººç±»**éªŒè¯ï¼Œå†ç‚¹å‡»**è·å–éªŒè¯ç **

å¤§æ¦‚åŠåˆ†é’Ÿåï¼Œç³»ç»Ÿå°±ä¼šå‘é€éªŒè¯ç è‡³ä½ çš„é‚®ç®±

éªŒè¯ç ä¸‰åˆ†é’Ÿä¹‹å†…æœ‰æ•ˆï¼Œä¸€åˆ†é’Ÿå†…ä¸å¾—é‡å¤è·å–éªŒè¯ç 

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-5.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-5.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-6.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-6.png?v=3)

#### 2. ç™»å½•ç•Œé¢

å¡«å†™**ç”¨æˆ·å / é‚®ç®± + å¯†ç **è¿›è¡Œç™»å½•

å¯ä»¥å‹¾é€‰**è®°ä½æˆ‘**åŠŸèƒ½ï¼ˆç”¨æˆ·åœ¨ç™»å½•åçš„ä¸€æ®µæ—¶é—´å†…ï¼Œåªè¦ä¸é€€å‡ºç™»å½•ï¼Œåˆ™ä¸éœ€è¦éªŒè¯ï¼Œå°±å¯ä»¥ç›´æ¥ç™»å½•ï¼‰

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-7.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-7.png?v=3)

#### 3. å¿˜è®°å¯†ç 

ç‚¹å‡»å‰å¾€**å¿˜è®°å¯†ç **æ¨¡å—

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-8.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-8.png?v=3)

é¦–å…ˆéœ€è¦**è¿›è¡Œç”µå­é‚®ä»¶çš„éªŒè¯**ï¼Œä¾ç„¶æ˜¯é€šè¿‡éªŒè¯ç çš„å½¢å¼

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-9.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-9.png?v=3)

ä¹‹å**å¡«å†™æ–°å¯†ç **å³å¯

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-10.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-10.png?v=3)

#### 4. é€€å‡ºç™»å½•

é¼ æ ‡æ‚¬æµ®åœ¨å³ä¸Šè§’å¤´åƒå¤„

è§¦å‘ä¸‹æ‹‰èœå•ï¼Œ**ç‚¹å‡»é€€å‡ºç™»å½•**å³å¯é€€å‡ºç³»ç»Ÿ

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-11.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-11.png?v=3)

#### 5. æ³¨é”€ç”¨æˆ·

åŒä¸Šï¼Œ**ç‚¹å‡»æ³¨é”€ç”¨æˆ·**å°†ä¼šæ³¨é”€ç”¨æˆ·

* **æ³¨æ„ï¼š**è¿™å°†ä¼šæ¸…ç©ºè¯¥ç”¨æˆ·çš„å…¨éƒ¨ä¿¡æ¯ï¼Œæ— æ³•æ’¤é”€ï¼

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-12.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-12.png?v=3)

#### 6. ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯

**ç‚¹å‡»ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯**ï¼Œä¼šå‡ºç°è¡¨å•æ¨¡å—

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-13.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-13.png?v=3)

ç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©éœ€è¦ä¿®æ”¹ä»€ä¹ˆä¿¡æ¯ï¼Œä¸å¡«å†™çš„é»˜è®¤ä¸è¿›è¡Œä¿®æ”¹

åªæœ‰å½“éœ€è¦ä¿®æ”¹ç”¨æˆ·é‚®ç®±æ—¶ï¼Œéœ€è¦å¡«å†™çš„æ–°é‚®ç®±çš„éªŒè¯ç 

æäº¤åä¿®æ”¹ç”Ÿæ•ˆï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€€å‡ºç™»å½•ï¼Œç”¨æˆ·éœ€è¦é‡æ–°ç™»é™†

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-14.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-14.png?v=3)

### â¤ å„æ¨¡å—ç‰¹æ®Šè¯´æ˜

#### 1. ç­›é€‰æ¡ä»¶

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-15.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-15.png?v=3)

ç­›é€‰è§„åˆ™ï¼šè¡Œä¸è¡Œä¹‹é—´ä¸ºé€»è¾‘ä¸ï¼Œè¡Œå†…å…ƒç´ ä¹‹é—´ä¸ºé€»è¾‘æˆ–

å¼€å¯ç­›é€‰åï¼Œè§’è‰²çš„å¹³å‡åˆ†è®¡ç®—è§„åˆ™ä¹Ÿä¼šæ”¹å˜

#### 2. å£°éª¸åˆ—è¡¨

åœ¨æ­¤å±•ç¤ºè§’è‰²çš„å£°éª¸åˆ—è¡¨ï¼Œä¸€ä¸ªè§’è‰²æœ€å¤šé…ä½©æˆ´ 5 ä¸ªå£°éª¸ï¼Œä¸” Cost æ€»å€¼æœ€å¤šä¸º 12

é¼ æ ‡æ”¾åœ¨å£°éª¸çš„å¾—åˆ†å•å…ƒæ ¼æ—¶ï¼Œä¼šå‡ºç°**ä¿®æ”¹å£°éª¸**å’Œ**ç§»é™¤å£°éª¸**æŒ‰é’®

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-16.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-16.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-17.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-17.png?v=3)

æ¯ä¸ªå‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-18.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-18.png?v=3)

#### 3. ä¸´æ—¶åˆ—è¡¨

é¼ æ ‡æ”¾åœ¨å£°éª¸çš„å¾—åˆ†å•å…ƒæ ¼æ—¶ï¼Œä¼šå‡ºç°**ä¿®æ”¹å£°éª¸ / æ·»åŠ å£°éª¸**å’Œ**ç§»é™¤å£°éª¸**æŒ‰é’®

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-19.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-19.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-20.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-20.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-21.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-21.png?v=3)

æœ€å·¦ä¾§ä¸ºå£°éª¸æ•°æ®ï¼Œå³ä¾§ä¸ºè¯¥å£°éª¸æ­é…åœ¨ä¸åŒè§’è‰²èº«ä¸Šçš„è¯„åˆ†æƒ…å†µ

ä¸´æ—¶å£°éª¸åˆ—è¡¨ä¸­çš„æ•°æ®ï¼Œä¸è®¡å…¥åé¢çš„æ•°æ®ç»Ÿè®¡æ¨¡å—ï¼Œç›¸å½“äºä¸€ä¸ªæš‚å­˜åŒºï¼Œç©å®¶å¯ä»¥åœ¨è¿™é‡Œå¯¹å£°éª¸è¿›è¡Œæ¨ªå‘æ¯”å¯¹

é€‰æ‹©å¥½è¦ç»™å“ªä½è§’è‰²åï¼Œå¯ä»¥ç›´æ¥å°†è¯¥å£°éª¸ä¸€é”®æ·»åŠ è‡³æ­£å¼çš„è§’è‰²å£°éª¸åˆ—è¡¨ä¸­ï¼Œæ·»åŠ åä¼šè‡ªåŠ¨å°†è¯¥å£°éª¸ä»ä¸´æ—¶å£°éª¸åˆ—è¡¨ç§»é™¤

ç‰¹åˆ«çš„ï¼Œå¼€å¯è§’è‰²ç­›é€‰åï¼Œæ¨ªå‘æ’åºè§„åˆ™å°†ä¼šæ”¹ä¸ºæŒ‰è§’è‰²åç§°è¿›è¡Œæ’åº

#### 4. è§’è‰²å£°éª¸

##### 4.1 å£°éª¸å±æ€§

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-22.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-22.png?v=3)

å³ä¾§è¡¨æ ¼çš„æ•°æ®ä¸ºï¼šæ ¹æ®å£°éª¸åˆ—è¡¨ä¸­ï¼Œè¯¥åè§’è‰²çš„æ‰€æœ‰å£°éª¸çš„å…¨éƒ¨å‰¯è¯æ¡å±æ€§çš„ç´¯åŠ 

##### 4.2 å‰¯è¯æ¡å¹³å‡åŠ ç‚¹æ¬¡æ•°

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-23.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-23.png?v=3)

> è§’è‰²çš„å‰¯è¯æ¡å¹³å‡åŠ ç‚¹æ¬¡æ•°çš„è®¡ç®—å…¬å¼ï¼š
> $$
> \overline{cnt} = \frac{sum}{\overline{x}}
> $$
>
> * $\overline{cnt}$ ï¼šè§’è‰²çš„å‰¯è¯æ¡å¹³å‡åŠ ç‚¹æ¬¡æ•°
> * $sum$ ï¼šè§’è‰²çš„è¯¥é¡¹å‰¯è¯æ¡çš„å–å€¼ä¹‹å’Œ
> * $\overline{x}$ ï¼šè¯¥é¡¹å‰¯è¯æ¡è°ƒè°ä¸€æ¬¡çš„æœŸæœ›å–å€¼

##### 4.3 å‰¯è¯æ¡æ ‡å‡†åŒ–åå·®

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-24.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-24.png?v=3)

> å‰¯è¯æ¡æ ‡å‡†åŒ–åå·®çš„è®¡ç®—å…¬å¼ï¼š
> $$
> D = \frac{sum}{n\cdot\overline{x}}\times100\%
> $$
>
> * $D$ ï¼šå‰¯è¯æ¡æ ‡å‡†åŒ–åå·®
> * $sum$ ï¼šè¯¥é¡¹å‰¯è¯æ¡çš„å–å€¼ä¹‹å’Œ
>
> * $n$ ï¼šè¯¥é¡¹å‰¯è¯æ¡çš„å‡ºç°æ¬¡æ•°
>
> * $\overline{x}$ ï¼šè¯¥é¡¹å‰¯è¯æ¡è°ƒè°ä¸€æ¬¡çš„æœŸæœ›å–å€¼

**å«ä¹‰ï¼š**

* å¦‚æœè¿™ä¸ªå€¼æ¯”è¾ƒä½ï¼Œè¯´æ˜ä½ æ¯æ¬¡è°ƒè°çš„æ—¶å€™ï¼Œè¿™ä¸ªå‰¯è¯æ¡çš„å–å€¼æ™®éè¾ƒä½

* å¦‚æœè¿™ä¸ªå€¼æ¯”è¾ƒé«˜ï¼Œè¯´æ˜ä½ æ¯æ¬¡è°ƒè°çš„æ—¶å€™ï¼Œè¿™ä¸ªå‰¯è¯æ¡çš„å–å€¼æ™®éè¾ƒé«˜

#### 5. å£°éª¸æ±‡æ€»

##### 5.1 å£°éª¸è¯„çº§

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-25.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-25.png?v=3)

å£°éª¸è¯„çº§çš„å«ä¹‰å¦‚ä¸‹ï¼š

| å£°éª¸è¯„çº§ |         å«ä¹‰          |
| :------: | :-------------------: |
|    F     |  0 <= å£°éª¸è¯„åˆ† < 30   |
|    D     |  30 <= å£°éª¸è¯„åˆ† < 40  |
|    C     |  40 <= å£°éª¸è¯„åˆ† < 50  |
|    B     |  50 <= å£°éª¸è¯„åˆ† < 60  |
|    A     |  60 <= å£°éª¸è¯„åˆ† < 70  |
|    S     |  70 <= å£°éª¸è¯„åˆ† < 80  |
|    SS    |  80 <= å£°éª¸è¯„åˆ† < 90  |
|   SSS    | 90 <= å£°éª¸è¯„åˆ† <= 100 |

##### 5.2 å£°éª¸è¯æ¡æ ‡å‡†åŒ–åå·®

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-26.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-26.png?v=3)

åŒå‰¯è¯æ¡æ ‡å‡†åŒ–åå·®

#### 6. è¯æ¡æƒé‡

##### 6.1 è¯æ¡æƒé‡å³°åº¦

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-27.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-27.png?v=3)

> è§’è‰²çš„è¯æ¡æƒé‡å³°åº¦ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯è¿‡å‰©å³°åº¦ï¼‰çš„è®¡ç®—å…¬å¼ï¼š
> $$
> Î¼ = \frac{1}{n} \sum_{i=1}^{n} x_i
> $$
>
> $$
> Ïƒ=\sqrt{\frac{1}{n} \sum_{i=1}^{n} (x_i - \mu)^2}
> $$
>
> $$
> Î¼_4=\frac{1}{n} \sum_{i=1}^{n} (x_i - \mu)^4
> $$
>
> $$
> Î³_2= \frac{\mu_4}{\sigma^4} - 3
> $$
>
> 
>
> * $Î³_2$ ï¼šè§’è‰²çš„è¯æ¡æƒé‡å³°åº¦
> * $n$ ï¼šå‰¯è¯æ¡çš„ç§æ•°ï¼Œç›®å‰ä¸º 13
> * $x_i$ ï¼šè§’è‰²çš„ç¬¬ $i$ é¡¹å‰¯è¯æ¡çš„æƒé‡
> * $Ïƒ$ ï¼šè§’è‰²çš„è¯æ¡æƒé‡æ ‡å‡†å·®
> * $Î¼_4$ ï¼šè§’è‰²çš„è¯æ¡æƒé‡å››é˜¶ä¸­å¿ƒçŸ©

**å«ä¹‰ï¼š**

* å¦‚æœè¿™ä¸ªå€¼æ¯”è¾ƒä½ï¼Œè¯´æ˜è¿™ä¸ªè§’è‰²çš„è¯æ¡æƒé‡åˆ†å¸ƒè¾ƒä¸ºå¹³æ»‘ï¼Œæ›´æ˜“äºå…»æˆ

* å¦‚æœè¿™ä¸ªå€¼æ¯”è¾ƒé«˜ï¼Œè¯´æ˜è¿™ä¸ªè§’è‰²çš„è¯æ¡æƒé‡åˆ†å¸ƒè¾ƒä¸ºå°–é”ï¼Œæ›´éš¾ä»¥å…»æˆ

##### 6.2 å‰¯è¯æ¡æƒé‡å æ¯”

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-28.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-28.png?v=3)

é»˜è®¤è¯æ¡æƒé‡çš„è§„åˆ™ï¼š

> $w(i)$ï¼šè¯æ¡ $i$ çš„æƒé‡

1. $w(i)$ çš„å–å€¼èŒƒå›´ä¸º $[0, 100]$
2. ç¡®å®šå¯¹è§’è‰²æ¯«æ— è´¡çŒ®çš„å‰¯è¯æ¡çš„æƒé‡ä¸º $0$ï¼Œå¯¹è§’è‰²æœ€æœ‰è´¡çŒ®çš„å‰¯è¯æ¡çš„æƒé‡ä¸º $100$
3. å…¶ä½™çš„å‰¯è¯æ¡æƒé‡ï¼Œä»¥æœ€å¤§å€¼ $100$ ä¸ºåŸºå‡†è®¡ç®—ç›¸å¯¹æ¯”å€¼
4. ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹äºä¸» C è§’è‰²ï¼š
   1. $w(æš´å‡»ç‡) = w(æš´å‡»ä¼¤å®³) = 100$
   2. $w(ç™¾åˆ†æ¯”æ”»å‡») = 71$
5. å¯¹äºå…¨éƒ¨è§’è‰²ï¼š
   1. $w(ç™¾åˆ†æ¯”æ”»å‡») > w(ä¼¤å®³åŠ æˆ)$
   2. $w(å›ºå®šå±æ€§) = c * w(ç™¾åˆ†æ¯”å±æ€§)$

#### 7. è§’è‰²åŸºç¡€å±æ€§

**ç‚¹å‡»æ­¦å™¨å›¾åƒ**åï¼Œè®¾ç½®æ­¦å™¨æ¨¡å—ä¼šå¼¹å‡º

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-29.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-29.png?v=3)

ç‚¹å‡»å³å¯è®¾å®šè¯¥åè§’è‰²çš„æ­¦å™¨ï¼ˆä¸ç‚¹å‡»é»˜è®¤ä¸è¿›è¡Œæ›´æ”¹ï¼‰

å…³é—­æŠ½å±‰é¡µé¢åè®¾å®šç”Ÿæ•ˆ

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-30.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-30.png?v=3)

#### 8. VIPæ”¯ä»˜ç³»ç»Ÿï¼ˆæ²™ç®±ç¯å¢ƒè¯´æ˜ï¼‰

ä¸ºä¿éšœç”¨æˆ·èµ„é‡‘å®‰å…¨åŠéµå®ˆæ”¯ä»˜å¹³å°è§„èŒƒï¼Œç‰¹æ­¤è¯´æ˜ï¼š

1. **å¼€å‘èƒŒæ™¯**ï¼šæœ¬ç³»ç»Ÿä¸ºå¼€å‘è€…å­¦ä¹ æ”¯ä»˜å®APIå¯¹æ¥æ‰€æ„å»ºçš„æŠ€æœ¯demoï¼Œä»…ç”¨äºæµ‹è¯•ç¯å¢ƒéªŒè¯æ”¯ä»˜æµç¨‹
2. **æ²™ç®±ç¯å¢ƒ**ï¼šå› ä¸ªä½“å¼€å‘è€…èµ„è´¨é™åˆ¶ï¼Œå½“å‰é‡‡ç”¨æ”¯ä»˜å®å®˜æ–¹æä¾›çš„æ²™ç®±æµ‹è¯•ç¯å¢ƒï¼Œæ‰€æœ‰èµ„é‡‘æµè½¬å‡ä¸ºæ¨¡æ‹Ÿæ•°æ®ï¼Œä¸ä¼šäº§ç”ŸçœŸå®äº¤æ˜“
3. **èµ„é‡‘å®‰å…¨**ï¼šæµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨çš„"æ”¯ä»˜è´¦æˆ·"ä¸ºè™šæ‹Ÿè´¦å·ï¼Œç³»ç»Ÿä¸ä¼šæ”¶é›†/ä½¿ç”¨ä»»ä½•çœŸå®æ”¯ä»˜ä¿¡æ¯
4. **åŠŸèƒ½é™åˆ¶**ï¼šæœ¬ç¯å¢ƒä¸æ”¯æŒçœŸå®è´§å¸ç»“ç®—ï¼Œæ”¯ä»˜æˆåŠŸçŠ¶æ€ä»…ç”¨äºéªŒè¯æŠ€æœ¯æµç¨‹ï¼Œè¯·å‹¿å°†å…¶è§†ä¸ºçœŸå®æ”¯ä»˜æœåŠ¡

*æ¸©é¦¨æç¤ºï¼šå¦‚éœ€ä½“éªŒå®Œæ•´æ”¯ä»˜æµç¨‹ï¼Œå¯ä½¿ç”¨æ”¯ä»˜å®æ²™ç®±ç‰ˆAPPï¼ˆ[æ²™ç®±ç¯å¢ƒ - æ”¯ä»˜å®æ–‡æ¡£ä¸­å¿ƒ](https://opendocs.alipay.com/common/02kkv7?pathHash=9a45a6d6)ï¼‰é…åˆæµ‹è¯•ã€‚æ„Ÿè°¢æ‚¨çš„ç†è§£ä¸æ”¯æŒï¼*

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-31.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-31.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-32.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-32.png?v=3)

ä½¿ç”¨æ”¯ä»˜å®æ²™ç®±ç‰ˆAPPï¼Œæ‰«è¿™ä¸ªäºŒç»´ç å»ä»˜æ¬¾ï¼Œç‚¹å‡»ã€Šæˆ‘å·²å®Œæˆæ”¯ä»˜ã€‹

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-33.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-33.png?v=3)

æœªæ”¯ä»˜å“åº”ï¼š

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-34.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-34.png?v=3)

æ”¯ä»˜æˆåŠŸå“åº”ï¼š

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-35.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-35.png?v=3)

å³å¯è§£é”VIPä¸“å±ç‰¹æƒï¼š

1. é‡‘è‰²æ˜µç§°
2. é‡‘è‰²å¤´åƒæ¡†

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-36.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-36.png?v=3)

#### 9. å¯¼å…¥å£°éª¸æ•°æ®

è¿˜æ˜¯å³ä¸Šè§’å¤´åƒå¤„ï¼Œ**ç‚¹å‡»å¯¼å…¥å£°éª¸æ•°æ®**ï¼Œä¼šå‡ºç°è¡¨å•æ¨¡å—

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-37.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-37.png?v=3)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-38.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-38.png?v=3)

ç›¸å…³å‚æ•°çš„è·å–å¯ä»¥å‚è€ƒè¿™ä¸ªæ•™ç¨‹ï¼š[ProxyPinä½¿ç”¨æ•™ç¨‹](http://8.138.214.176:5173/ProxyPinä½¿ç”¨æ•™ç¨‹.html)

è¾“å…¥ç›¸å…³å‚æ•°åï¼Œç‚¹å‡»æäº¤

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-39.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-39.png?v=3)

ç­‰å¾…æ•°æ®æŠ“å–ï¼ŒæœŸé—´ä¸è¦åˆ·æ–°é¡µé¢

æŠ“å–æˆåŠŸåæ•°æ®è‡ªåŠ¨å¯¼å…¥åˆ°å£°éª¸åˆ—è¡¨

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-40.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-40.png?v=3)

âš ï¸ ç‰¹æ®Šè¯´æ˜ï¼š**åªä¼šæŠ“å–5æ˜Ÿæ»¡çº§æ»¡è°ƒè°çš„å£°éª¸**



## ğŸ” åŸç†è®²è§£

### 1. å‰¯è¯æ¡æƒé‡çš„è®¡ç®—

#### 1.1 é¸£æ½®æ€»ä¼¤å®³è®¡ç®—å…¬å¼

é¸£æ½®æ€»ä¼¤å®³è®¡ç®—å…¬å¼ï¼š
$$
æ€»ä¼¤å®³ = ((è§’è‰²åŸºç¡€æ•°å€¼ + æ­¦å™¨åŸºç¡€æ•°å€¼) \times (1 + ç™¾åˆ†æ¯”æ”»å‡») + å›ºå®šæ”»å‡») \times æš´å‡»ä¼¤å®³ \times (1 + å±æ€§ä¼¤å®³åŠ æˆ + æŠ€èƒ½ä¼¤å®³åŠ æˆ) \times æŠ€èƒ½å€ç‡ \times (1 + å€ç‡æå‡) \times (1 + ä¼¤å®³åŠ æ·±) \times \frac{100 + è§’è‰²ç­‰çº§}{199 + è§’è‰²ç­‰çº§ + æ€ªç‰©ç­‰çº§} \times (1 - å±æ€§æŠ—æ€§) \times (1 - å±æ€§ä¼¤å®³å‡å…)
$$
å¦‚æœæˆ‘ä»¬åªå…³æ³¨ä¸å£°éª¸å‰¯è¯æ¡æœ‰å…³çš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆç®€åŒ–åçš„è®¡ç®—å…¬å¼ä¸ºï¼š
$$
æ€»ä¼¤å®³ = ((è§’è‰²åŸºç¡€æ•°å€¼ + æ­¦å™¨åŸºç¡€æ•°å€¼) \times ç™¾åˆ†æ¯”æ”»å‡» + å›ºå®šæ”»å‡») \times æš´å‡»ä¼¤å®³ \times æŠ€èƒ½ä¼¤å®³åŠ æˆ
$$

#### 1.2 ç™¾åˆ†æ¯”æ”»å‡»ï¼Œæš´å‡»ä¼¤å®³ï¼ŒæŠ€èƒ½ä¼¤å®³åŠ æˆçš„æƒé‡è®¡ç®—

æ ¹æ®ä¸Šå¼å¯çŸ¥ï¼Œç™¾åˆ†æ¯”æ”»å‡»ï¼Œæš´å‡»ä¼¤å®³ï¼ŒæŠ€èƒ½ä¼¤å®³åŠ æˆéƒ½æ˜¯æ­£ç›¸å…³

> $x(i)$ ï¼šå‰¯è¯æ¡ $i$ è°ƒè°ä¸€æ¬¡çš„æœŸæœ›å–å€¼
>
> $w(i)$ ï¼šå‰¯è¯æ¡ $i$ çš„æƒé‡

å·²çŸ¥ $x(æš´å‡»ä¼¤å®³) = 16.8ï¼Œx(ç™¾åˆ†æ¯”æ”»å‡») = x(æŠ€èƒ½ä¼¤å®³åŠ æˆ) = 9.0$

æœ‰ $\frac{w(æš´å‡»ä¼¤å®³)}{w(ç™¾åˆ†æ¯”æ”»å‡»)} = \frac{x(æš´å‡»ä¼¤å®³)}{x(ç™¾åˆ†æ¯”æ”»å‡»)}$

å®šä¹‰ $w(æš´å‡»ä¼¤å®³) = 100$ï¼Œå–æš´å‡»æœŸæœ›ä¸º $50\%$ï¼Œæ ¹æ®ä¸Šå¼å››èˆäº”å…¥è®¡ç®—å‡º $w(ç™¾åˆ†æ¯”æ”»å‡») = 71$

è™½ç„¶ $x(ç™¾åˆ†æ¯”æ”»å‡») = x(æŠ€èƒ½ä¼¤å®³åŠ æˆ)$

ä½†æ˜¯ç™¾åˆ†æ¯”æ”»å‡»å¯ä»¥ä½œç”¨äºæ‰€æœ‰å‡ºä¼¤ï¼Œå› æ­¤æ‰ä¼šæœ‰ $w(ç™¾åˆ†æ¯”æ”»å‡») = w(æ™®æ”»ä¼¤å®³åŠ æˆ) + w(é‡å‡»ä¼¤å®³åŠ æˆ) + w(å…±é¸£æŠ€èƒ½ä¼¤å®³åŠ æˆ) + w(å…±é¸£è§£æ”¾ä¼¤å®³åŠ æˆ)$ è¿™ä¸€ç»“è®º

#### 1.3 å›ºå®šå±æ€§çš„æƒé‡è®¡ç®—

ä»¥å›ºå®šå±æ€§åšä¸€ä¸ªæ ‡å‡†åŒ–

æœ‰ $\frac{w(å›ºå®šå±æ€§)}{w(ç™¾åˆ†æ¯”å±æ€§)} = \frac{x(å›ºå®šå±æ€§)}{x(ç™¾åˆ†æ¯”å±æ€§) \times (è§’è‰²åŸºç¡€æ•°å€¼ + æ­¦å™¨åŸºç¡€æ•°å€¼)}$

### 2. å£°éª¸è¯„åˆ†ç®—æ³•

#### 2.1 è®¡ç®—ç†è®ºæœ€å¤§åˆ†æ•°

1. é€‰æ‹©æƒé‡æœ€å¤§çš„ 5 é¡¹å‰¯è¯æ¡

2. å°†å®ƒä»¬çš„å–å€¼éƒ½å–ç†è®ºæœ€å¤§å€¼

3. å•é¡¹å‰¯è¯æ¡çš„å¾—åˆ†ç‚¹æ•°è®¡ç®—å…¬å¼ï¼š

   > $$
   > s = \frac{x}{\overline{x}} \times \frac{w}{sum(w)}
   > $$
   >
   > * $s$ ï¼šå•é¡¹å‰¯è¯æ¡çš„å¾—åˆ†ç‚¹æ•°
   > * $x$ ï¼šè¯¥é¡¹å‰¯è¯æ¡çš„å®é™…å–å€¼
   > * $\overline{x}$ ï¼šè¯¥é¡¹å‰¯è¯æ¡è°ƒè°ä¸€æ¬¡çš„æœŸæœ›å–å€¼
   > * $w$ ï¼šè¯¥é¡¹å‰¯è¯æ¡çš„æƒé‡
   > * $sum(w)$ ï¼šè¯¥è§’è‰²æƒé‡æœ€å¤§çš„ 5 é¡¹å‰¯è¯æ¡æƒé‡ä¹‹å’Œ

4. ç´¯åŠ æ¯é¡¹å‰¯è¯æ¡çš„å¾—åˆ†ç‚¹æ•°å¾—åˆ°ç†è®ºæœ€å¤§åˆ†æ•°

#### 2.2 è®¡ç®—æœ€ç»ˆå£°éª¸è¯„åˆ†

1. æ ¹æ®ä¸Šé¢çš„è®¡ç®—è§„åˆ™ï¼Œå°†å–å€¼æ›¿æ¢ä¸ºå®é™…å–å€¼ï¼Œè®¡ç®—å¾—å‡ºå®é™…åˆ†æ•°

2. æœ€ç»ˆå£°éª¸è¯„åˆ†çš„è®¡ç®—å…¬å¼ï¼š

   > $$
   > æœ€ç»ˆå£°éª¸è¯„åˆ† = \frac{å®é™…åˆ†æ•°}{ç†è®ºæœ€å¤§åˆ†æ•°} \times 100
   > $$

æ‰€ä»¥ï¼Œæœ€ç»ˆå£°éª¸è¯„åˆ†çš„å–å€¼èŒƒå›´ä¸º $[0, 100]$

#### 2.3 è®¡ç®—å‰¯è¯æ¡å¯¹è¯„åˆ†çš„è´¡çŒ®ç™¾åˆ†æ¯”

å‰¯è¯æ¡å¯¹è¯„åˆ†çš„è´¡çŒ®ç™¾åˆ†æ¯”çš„è®¡ç®—å…¬å¼ï¼š

   > $$
   > å‰¯è¯æ¡å¯¹è¯„åˆ†çš„è´¡çŒ®ç™¾åˆ†æ¯” = \frac{è¯¥é¡¹å‰¯è¯æ¡çš„å¾—åˆ†ç‚¹æ•°}{æ€»çš„å¾—åˆ†ç‚¹æ•°} \times 100\%
   > $$

### 3. ç†è®ºåŸºç¡€æ”¯æ’‘

é¸£æ½®æ€»ä¼¤å®³è®¡ç®—å…¬å¼ï¼š[ã€é¸£æ½®ã€‘ä¼¤å®³è®º ä¼¤å®³ä¹˜åŒºä¸ç¨€é‡Šè¯¦è§£ æ€ä¹ˆæ ·æ‰èƒ½æœ€å¤§åŒ–è¾“å‡ºï¼Ÿã€Šé¸£æ½®ã€‹åº•å±‚æœºåˆ¶ç³»åˆ—01](https://www.bilibili.com/video/BV1VZ42147px/?spm_id_from=333.999.0.0&vd_source=50647b976189fed7c41a37586097b659)

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-41.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-41.png?v=3)

è§’è‰²é»˜è®¤è¯æ¡æƒé‡ï¼š

* [ã€é¸£æ½®ã€‘æœ€æ–°å…¨è§’è‰²å£°éª¸å…»æˆä½œä¸š æ­¦å™¨&å…±é¸£é“¾æ”¶ç›Šè®¡ç®— å«å£°éª¸è¯æ¡æ€è·¯è§„åˆ™_å“”å“©å“”å“©bilibili](https://www.bilibili.com/video/BV1Tf421X7fm/?spm_id_from=333.999.0.0)

* [ã€é¸£æ½®ã€‘é•¿ç¦»å¼ºåº¦è§£æ+å…»æˆä½œä¸š å£°éª¸è¯æ¡/å…±é¸£é“¾/æ­¦å™¨åˆ†æ](https://www.bilibili.com/video/BV1nM4m1y718/?spm_id_from=333.999.0.0)

* [ã€é¸£æ½®ã€‘å®ˆå²¸äººè§£æ ç™¾æ­æš´åŠ›äººæƒæ‹ï¼å¼ºåº¦è§£æï¼‹å…»æˆä½œä¸šï¼šå£°éª¸è¯æ¡ å…±é¸£é“¾ æ­¦å™¨åˆ†æ](https://www.bilibili.com/video/BV1RqxBepEs7/?spm_id_from=333.999.0.0&vd_source=50647b976189fed7c41a37586097b659)

* [ã€é¸£æ½®ã€‘æ¤¿è§£æ é¦–ä½å¸¸æ€åŒå½¢æ€ï¼å…»æˆä½œä¸š+è¿›é˜¶æŠ€å·§ï¼šå£°éª¸è¯æ¡ å…±é¸£é“¾ æ­¦å™¨åˆ†æ_å“”å“©å“”å“©bilibili](https://www.bilibili.com/video/BV1RmU3YnEMF/?spm_id_from=333.999.0.0&vd_source=50647b976189fed7c41a37586097b659)
* ......

åœ¨æ­¤æ„Ÿè°¢è¿™ä¸‰ä½ B ç«™ UP ä¸»ï¼š

* [é’ç©ºã®éœå…‰ bilibili](https://space.bilibili.com/37737161?spm_id_from=333.337.0.0)

* [å«æˆ‘æ£‰è¢«-å“”å“©å“”å“©_bilibili](https://space.bilibili.com/6014992?spm_id_from=333.337.0.0)

* [é‡‘é“ƒå­æ”»ç•¥ç»„-å“”å“©å“”å“©_bilibili](https://search.bilibili.com/all?keyword=é‡‘é“ƒå­æ”»ç•¥ç»„&from_source=webtop_search&spm_id_from=333.1007&search_source=2)



## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- **æ¡†æ¶**ï¼š
  - **æ ¸å¿ƒæ¡†æ¶**ï¼šSpring Bootã€Spring MVCã€Spring Securityã€MyBatis
  - **å¾®æœåŠ¡æ¡†æ¶**ï¼šSpring Cloud Gatewayã€Spring Cloud OpenFeignã€Nacos
- **æ•°æ®åº“**ï¼šMySQLã€Redis
- **ç¬¬ä¸‰æ–¹åº“**ï¼šLombokã€Fastjsonã€Apache Commons Math3ã€Sentinel
- **å®‰å…¨**ï¼šSpring Securityã€BCryptPasswordEncoderã€Remember-Me æœºåˆ¶
- **å·¥å…·ä¸åŠŸèƒ½ï¼š**
  - **æœåŠ¡æ²»ç†**ï¼šNacos æœåŠ¡æ³¨å†Œä¸å‘ç°
  - **å…¨å±€åŠŸèƒ½**ï¼šç½‘å…³è¯·æ±‚æ—¥å¿—ã€æ‹¦æˆªå™¨
  - **å¼‚å¸¸å¤„ç†**ï¼šå…¨å±€å¼‚å¸¸æ‹¦æˆªã€Sentinel é™æµç†”æ–­
  - **æœåŠ¡é€šä¿¡**ï¼šFeign å®¢æˆ·ç«¯ã€è´Ÿè½½å‡è¡¡
  - **äº‹åŠ¡ç®¡ç†**ï¼šSpring äº‹åŠ¡ã€Seata åˆ†å¸ƒå¼äº‹åŠ¡

### å‰ç«¯

- **æ¡†æ¶**ï¼šVue 3
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **UI ç»„ä»¶åº“**ï¼šElement Plusã€Element Plus Icons
- **è·¯ç”±**ï¼šVue Router
- **HTTP è¯·æ±‚åº“**ï¼šAxios
- **æ„å»ºå·¥å…·**ï¼šVite
- **åŠŸèƒ½ä¸å·¥å…·**ï¼š
  - **å¤æ‚è¡¨å•éªŒè¯**ï¼šElement Plus è¡¨å•è§„åˆ™ + è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘ï¼ˆå¦‚ç”¨æˆ·åç‰¹æ®Šå­—ç¬¦æ£€æµ‹ã€é‚®ç®±æ ¼å¼æ ¡éªŒï¼‰
  - **åŠ¨ç”»æ•ˆæœ**ï¼šElement Plus è¿‡æ¸¡åŠ¨ç”»ï¼ˆ`<transition>` ç»„ä»¶ï¼‰
  - **äººæœºéªŒè¯**ï¼šhCaptcha é›†æˆï¼ˆç¬¬ä¸‰æ–¹éªŒè¯æœåŠ¡ï¼‰
  - **å“åº”å¼è®¾è®¡**ï¼šFlex å¸ƒå±€ + åª’ä½“æŸ¥è¯¢ï¼ˆé€‚é…ç§»åŠ¨ç«¯ï¼‰
  - **äº¤äº’åé¦ˆ**ï¼šElement Plus æ¶ˆæ¯æç¤ºï¼ˆ`ElMessage`ï¼‰ã€é€šçŸ¥ï¼ˆ`ElNotification`ï¼‰ã€ç¡®è®¤å¼¹çª—ï¼ˆ`ElMessageBox`ï¼‰
  - **å¼‚æ­¥å¤„ç†**ï¼š`async/await`ï¼ˆç½‘ç»œè¯·æ±‚ååŒï¼‰
  - **è¾…åŠ©å·¥å…·**ï¼šElBacktopï¼ˆè¿”å›é¡¶éƒ¨ç»„ä»¶ï¼‰ã€SVG å›¾æ ‡åŠ¨æ€æ¸²æŸ“ã€CSS åŠ¨ç”»ï¼ˆå¦‚ VIP ç‰¹æ•ˆï¼‰



## âœ¨æŠ€æœ¯æ ˆäº®ç‚¹

### åç«¯

#### 1. å¾®æœåŠ¡æ¶æ„ä¸‹çš„äº‘å°±ç»ªæ–¹æ¡ˆ

**äº®ç‚¹æè¿°ï¼š**  

- **æ™ºèƒ½è·¯ç”±ä¸åŠ¨æ€å‘ç°**ï¼š`lb://`åè®®å®ç°æœåŠ¡è‡ªåŠ¨æ³¨å†Œå‘ç°ï¼Œæ”¯æŒå¤šä¸šåŠ¡æ¨¡å—ï¼ˆè®¤è¯/å£°éª¸/æ¶ˆæ¯/æ”¯ä»˜ï¼‰çš„è´Ÿè½½å‡è¡¡è·¯ç”±
- **å¤šç¯å¢ƒæ²»ç†èƒ½åŠ›**ï¼šåŸºäºNacoså‘½åç©ºé—´éš”ç¦»å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒï¼Œé…ç½®æ–‡ä»¶æŒ‰ç¯å¢ƒåŠ¨æ€åŠ è½½ï¼ˆè§Profileåˆ†æ®µé…ç½®ï¼‰  
- **æ¯«ç§’çº§é“¾è·¯è¿½è¸ª**ï¼šå…¨å±€è¿‡æ»¤å™¨å®ç°è¯·æ±‚ç”Ÿå‘½å‘¨æœŸç›‘æ§ï¼ˆè§RtGlobalFilteræ—¥å¿—åŸ‹ç‚¹ï¼‰ï¼Œç²¾å‡†ç»Ÿè®¡APIè€—æ—¶  
- **åˆ†å¸ƒå¼ç³»ç»ŸéŸ§æ€§**ï¼šé›†æˆSentinelæµé‡å“¨å…µï¼Œå¯è§†åŒ–æ§åˆ¶å°å®æ—¶è§‚æµ‹æœåŠ¡å¥åº·çŠ¶æ€ï¼ˆDashboard:8080ï¼‰  

**ä»£ç ç‰‡æ®µï¼š**

```yml
# è·¨åŸŸé…ç½®ä¸ä¸šåŠ¡è·¯ç”±å®šä¹‰
spring:
  cloud:
    gateway:
      globalcors:
        cors-configurations:
          '[/**]':
            allowed-origin-patterns: "http://8.138.214.176:5173"
            allowed-headers: '*'
            allowed-methods: '*'
            allow-credentials: true
      routes: # äº”ç»„ä¸šåŠ¡è·¯ç”±é…ç½®
        - id: auth
          uri: lb://auth-service # è´Ÿè½½å‡è¡¡åè®®
          predicates:
            - Path=/api/auth/**
        - id: user
          uri: lb://auth-service
          predicates:
            - Path=/api/user/**
        - id: echo
          uri: lb://echo-service
          predicates:
            - Path=/api/echo/**
        - id: message
          uri: lb://message-service
          predicates:
            - Path=/api/message/**
        - id: pay
          uri: lb://pay-service
          predicates:
            - Path=/api/pay/**
```

```yml
# æ”¯ä»˜æœåŠ¡æ ¸å¿ƒé…ç½®
server:
  port: 4080
spring:
  profiles:
    active: dev # å¤šç¯å¢ƒé…ç½®å¼€å…³
    include:
      - datasource
      - alipay
      - client
      - redis
      - seata
  application:
    name: pay-service
  cloud:
    nacos:
      server-addr: localhost:8848 # æ³¨å†Œä¸­å¿ƒåœ°å€
      config:
        import-check:
          enabled: false
        namespace: ${spring.profiles.active:public} # ç¯å¢ƒéš”ç¦»å…³é”®é…ç½®
        discovery:
          ip: localhost
          port: ${server.port}
    sentinel:
      transport:
        dashboard: localhost:8080 # ç†”æ–­ç›‘æ§å…¥å£
      eager: true
logging:
  level:
    com.pay.client: info

---
spring:
  config:
    import:
      - nacos:database.properties?group=pay
    activate:
      on-profile: dev
---
spring:
  config:
    import:
      - nacos:database.properties?group=pay
    activate:
      on-profile: test
---
spring:
  config:
    import:
      - nacos:database.properties?group=pay
    activate:
      on-profile: prod
```

```java
@Component
@Slf4j
public class RtGlobalFilter implements GlobalFilter, Ordered { // é“¾è·¯è¿½è¸ªè¿‡æ»¤å™¨å®ç°

    @Override
    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {
        ServerHttpRequest request = exchange.getRequest();
        String uri = request.getURI().toString();
        long start = System.currentTimeMillis();
        log.info("è¯·æ±‚ {} å¼€å§‹", uri); // è¯·æ±‚å…¥å£æ—¥å¿—
        return chain.filter(exchange).doFinally((result) -> { // è€—æ—¶è®¡ç®—
            long end = System.currentTimeMillis();
            log.info("è¯·æ±‚ {} ç»“æŸï¼Œè€—æ—¶ï¼š{}ms", uri, end - start);
        });
    }

    @Override
    public int getOrder() {
        return 0;
    }
}
```

#### 2. å£°æ˜å¼æœåŠ¡æ²»ç†ä¸ç†”æ–­é™çº§ä½“ç³»

**äº®ç‚¹æè¿°ï¼š**  

- **æ³¨è§£é©±åŠ¨æœåŠ¡è°ƒç”¨**ï¼šé€šè¿‡`@FeignClient`å£°æ˜å¼æ¥å£å®šä¹‰ï¼Œè‡ªåŠ¨å®ŒæˆHTTPè¯·æ±‚ç¼–è§£ç ï¼Œå®ç°ä¸šåŠ¡ä»£ç ä¸é€šä¿¡é€»è¾‘è§£è€¦  
- **åŒå±‚çº§ç†”æ–­ä¿æŠ¤**ï¼šæ–¹æ³•çº§Fallbackå®ç°å¿«é€Ÿé™çº§ï¼ŒæœåŠ¡ä¸å¯ç”¨æ—¶è¿”å›é¢„è®¾å®‰å…¨å€¼ï¼Œä¿éšœæ ¸å¿ƒé“¾è·¯å¯ç”¨æ€§  
- **æ™ºèƒ½æµé‡è°ƒåº¦**ï¼šæ— ç¼ç»§æ‰¿Spring CloudæœåŠ¡å‘ç°èƒ½åŠ›ï¼ŒåŸºäºæ³¨å†Œä¸­å¿ƒå®ä¾‹çŠ¶æ€è‡ªåŠ¨è·¯ç”±ï¼Œå†…ç½®è½®è¯¢è´Ÿè½½ç­–ç•¥  

**ä»£ç ç‰‡æ®µï¼š**  

```java
@Configuration
public class FeignConfig {
    
    @Bean
    Logger.Level feignLoggerLevel() { // ä»…è®°å½•è¯·æ±‚æ–¹æ³•ã€URLå’Œå“åº”çŠ¶æ€ç 
        return Logger.Level.BASIC;
    }

    @Bean
    Retryer retryer() { // é‡è¯•ç­–ç•¥å®Œå…¨å…³é—­
        return new Retryer.Default(0, 0, 0);
    }
}
```

```java
// æœåŠ¡å¥‘çº¦å£°æ˜ï¼šnameå…³è”æ³¨å†Œä¸­å¿ƒæœåŠ¡IDï¼Œpathå®šä¹‰APIæ ¹è·¯å¾„
@FeignClient(name = "auth-service",
             path = "/api/auth",
             fallback = AuthClientFallback.class) // ç†”æ–­æ—¶åˆ‡æ¢é™çº§å®ç°ç±»
public interface AuthClient {

    @GetMapping("/get-account")
    Account getAccount(@RequestParam("username") String username); // å£°æ˜å¼HTTP GETæ˜ å°„

    @GetMapping("/is-vip")
    Boolean isVip(@RequestParam("username") String username); // å‚æ•°è‡ªåŠ¨URLç¼–ç 
}
```

```java
@Component
public class AuthClientFallback implements AuthClient {
    
    @Override
    public Account getAccount(String username) { // ç†”æ–­é™çº§å®ç°ï¼šè¿”å›ç©ºè´¦æˆ·
        return new Account(); // å®‰å…¨å…œåº•æ•°æ®
    }

    @Override
    public Boolean isVip(String username) { // æœåŠ¡ä¸å¯ç”¨æ—¶é»˜è®¤è¿”å›éVIPçŠ¶æ€
        return Boolean.FALSE;
    }
}
```

#### 3. **åŸºäºå…¨å±€äº‹åŠ¡é”çš„å¤šç»´æ•°æ®æ²»ç†æ–¹æ¡ˆ**

**äº®ç‚¹æè¿°ï¼š**

- **å…¨é“¾è·¯äº‹åŠ¡é”æœºåˆ¶**ï¼šé‡‡ç”¨ Seata AT æ¨¡å¼å®ç°è·¨æœåŠ¡ã€è·¨æ•°æ®æºçš„åˆ†å¸ƒå¼äº‹åŠ¡åŸå­æ€§ï¼Œé€šè¿‡`@GlobalTransactional`æ³¨è§£å®ç°äº‹åŠ¡è¾¹ç•Œçš„ç²¾å‡†ç•Œå®š
- **å…ƒæ•°æ®é©±åŠ¨çº§è”æ“ä½œ**ï¼šåŸºäºæ•°æ®åº“å…ƒæ•°æ®ï¼ˆinformation_schemaï¼‰åŠ¨æ€è¯†åˆ«ä¸šåŠ¡è¡¨ç»“æ„ï¼Œå®ç°ç”¨æˆ·ç»´åº¦çš„å…¨é“¾è·¯æ•°æ®çº§è”æ¸…ç†
- **å¤šæœåŠ¡æ“ä½œèšåˆ**ï¼šåœ¨å•äº‹åŠ¡è¾¹ç•Œå†…èšåˆæ ¸å¿ƒä¸šåŠ¡æœåŠ¡ï¼ˆç”¨æˆ·æœåŠ¡ã€æ”¯ä»˜æœåŠ¡ï¼‰åŠæ•°æ®åº“å±‚æ“ä½œï¼Œä¿éšœæœåŠ¡é—´çŠ¶æ€ä¸€è‡´æ€§

**ä»£ç ç‰‡æ®µï¼š**

```java
@Override
@Transactional // å£°æ˜æœ¬åœ°äº‹åŠ¡
@GlobalTransactional // å£°æ˜åˆ†å¸ƒå¼äº‹åŠ¡
public void signout(String username) { 
    // å…ƒæ•°æ®é©±åŠ¨æ¸…ç†ï¼šåŠ¨æ€è·å–æ‰€æœ‰åŒ…å«usernameå­—æ®µçš„ä¸šåŠ¡è¡¨
    for (String tableName : dataGovernanceMapper.findAllTables()) {
        // åŠ¨æ€SQLæ„å»ºï¼šé€šè¿‡<table_name>å ä½ç¬¦å®ç°å¤šè¡¨é€‚é…
        dataGovernanceMapper.deleteAccountByUsername(tableName, username);
    }
    // è·¨æœåŠ¡è°ƒç”¨ï¼šæ•´åˆè®¤è¯æœåŠ¡å’Œæ”¯ä»˜æœåŠ¡çš„äº‹åŠ¡æ“ä½œ
    echoClient.signout(username); // è®¤è¯æœåŠ¡æ³¨é”€
    payClient.signout(username); // æ”¯ä»˜è´¦æˆ·æ³¨é”€
}
```

```java
@Mapper
public interface DataGovernanceMapper {
    // å…ƒæ•°æ®æ‰«æï¼šåŸºäºinformation_schemaè‡ªåŠ¨å‘ç°ä¸šåŠ¡è¡¨
    @Select("select distinct table_name from information_schema.COLUMNS " +
            "where table_schema = 'auth_service_db' and column_name = 'username'")
    List<String> findAllTables();

    // åŠ¨æ€SQLæ¨¡æ¿ï¼šæ”¯æŒè¿è¡Œæ—¶è¡¨åæ³¨å…¥ï¼Œ${}è¯­æ³•å®ç°è¡¨çº§æ“ä½œæ‰©å±•
    @Delete("<script>" +
            "delete from ${table_name} where username = #{username}" +
            "</script>")
    void deleteAccountByUsername(String table_name, String username);

    // å¤ç”¨æ¨¡æ¿è®¾è®¡ï¼šç›¸åŒèŒƒå¼æ”¯æŒæ•°æ®é‡ç½®ç­‰æ‰©å±•åœºæ™¯
    @Update("<script>" +
            "update ${table_name} set username = #{username} where username = #{old_username}" +
            "</script>")
    void resetUsername(String table_name, String username, String old_username);
}
```

#### 4. é›¶ä¿¡ä»»æ¶æ„ä¸‹çš„åŠ¨æ€å®‰å…¨æ§åˆ¶ä½“ç³»

**æŠ€æœ¯äº®ç‚¹ï¼š**

- **URLçº§è®¿é—®æ§åˆ¶**ï¼šé€šè¿‡æ¥å£çº§è·¯å¾„åŒ¹é…è§„åˆ™å®ç°ç»†ç²’åº¦é‰´æƒï¼ˆ`/api/auth/**`å¼€æ”¾ï¼Œå…¶ä½™å¼ºåˆ¶è®¤è¯ï¼‰
- **æ··åˆè®¤è¯çŠ¶æ€ç®¡ç†**ï¼šSpring Securityä¼šè¯æœºåˆ¶ + æ‹¦æˆªå™¨ä¸Šä¸‹æ–‡ç»‘å®šï¼Œæ”¯æŒæ— çŠ¶æ€RESTfulæ¥å£ä¸çŠ¶æ€ä¼šè¯å…±å­˜
- **æŒä¹…åŒ–åŒå› ç´ éªŒè¯**ï¼šRememberMeåŠŸèƒ½é›†æˆæŒä¹…åŒ–ä»¤ç‰Œä»“åº“ï¼Œå®ç°15å¤©æœ‰æ•ˆæœŸçš„è®¾å¤‡è®°å¿†éªŒè¯

**ä»£ç ç‰‡æ®µï¼š**

```java
// æ ¸å¿ƒå®‰å…¨ç­–ç•¥é“¾é…ç½®
@Bean
public SecurityFilterChain filterChain(HttpSecurity http,
                                       PersistentTokenRepository repository) throws Exception { 
    return http
            // æ¥å£çº§è®¿é—®æ§åˆ¶ï¼šç™½åå•ä¸å¼ºåˆ¶è®¤è¯ç­–ç•¥
            .authorizeHttpRequests(e -> e 
                    .requestMatchers("/api/auth/**").permitAll() // è®¤è¯ç›¸å…³æ¥å£å¼€æ”¾
                    .requestMatchers("/api/pay/notify").permitAll() // æ”¯ä»˜å›è°ƒæ¥å£å¼€æ”¾
                    .anyRequest().authenticated() // å…¶ä»–æ¥å£è¦æ±‚è®¤è¯
            )
            // è®¤è¯çŠ¶æ€ç®¡ç†ï¼šç™»å½•/æ³¨é”€ç»ˆç»“ç‚¹ä¸å¤„ç†å™¨
            .formLogin(e -> e 
                    .loginProcessingUrl("/api/auth/login") // ç»Ÿä¸€è®¤è¯å…¥å£
                    .successHandler(this::onAuthenticationSuccess) // è®¤è¯æˆåŠŸå›è°ƒ
                    .failureHandler(this::onAuthenticationFailure) // è®¤è¯å¤±è´¥å›è°ƒ
            )
            // ä¼šè¯ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
            .logout(e -> e 
                    .logoutUrl("/api/auth/logout") // ç»Ÿä¸€æ³¨é”€å…¥å£
                    .logoutSuccessHandler(this::onAuthenticationSuccess) // æ³¨é”€æˆåŠŸå›è°ƒ
            )
            // æŒä¹…åŒ–è®¾å¤‡è®°å¿†éªŒè¯
            .rememberMe(e -> e 
                    .rememberMeParameter("remember") // å‰ç«¯è§¦å‘å‚æ•°
                    .tokenRepository(repository) // ä»¤ç‰Œå­˜å‚¨ç­–ç•¥
                    .tokenValiditySeconds(3600 * 24 * 15) // 15å¤©æœ‰æ•ˆæœŸ
            )
            // å®‰å…¨é˜²å¾¡ç­–ç•¥
            .csrf(AbstractHttpConfigurer::disable) // æ ¹æ®REST APIç‰¹æ€§å…³é—­CSRF
            .exceptionHandling(e -> e.authenticationEntryPoint(this::onAuthenticationFailure)) // ç»Ÿä¸€è®¤è¯å¼‚å¸¸å¤„ç†
            .build();
}
```

```java
// ä¼šè¯ä¸Šä¸‹æ–‡å¢å¼ºæ‹¦æˆªå™¨
@Component
public class AuthorizeInterceptor implements HandlerInterceptor { 

    @Resource
    UserMapper mapper;

    // è¯·æ±‚é¢„å¤„ç†ï¼šç»‘å®šè®¤è¯ä¸Šä¸‹æ–‡åˆ°ä¼šè¯
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {
        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();
        if (authentication != null && authentication.isAuthenticated()) {
            User user = (User) authentication.getPrincipal(); // æå–å®‰å…¨ä¸Šä¸‹æ–‡
            AccountUser account = mapper.findAccountUserByNameOrEmail(user.getUsername()); // æ‰©å±•ç”¨æˆ·ä¿¡æ¯
            request.getSession().setAttribute("account", account); // ä¼šè¯ç»‘å®šå®Œæ•´ç”¨æˆ·å¯¹è±¡
        }
        return true;
    }
}
```

#### 5. åŸºäºRedisçš„åˆ†å¸ƒå¼éªŒè¯ç æ§åˆ¶ä½“ç³»

**äº®ç‚¹æè¿°ï¼š**

* **è¯·æ±‚å¹‚ç­‰æ€§ä¿éšœ**ï¼šé‡‡ç”¨SETNXåŸå­æŒ‡ä»¤æ„å»ºé˜²é‡æ”¾æ”»å‡»ä½“ç³»ï¼Œé€šè¿‡å¤åˆé”®è®¾è®¡(email+sid+çŠ¶æ€)å®ç°ä¸‰ç»´åº¦è¯·æ±‚æ ‡è¯†
* **é˜¶æ¢¯å¼æµæ§ç­–ç•¥**ï¼šåŒé‡æ—¶æ•ˆæ ¡éªŒæœºåˆ¶ï¼ˆ3åˆ†é’Ÿæ€»çª—å£æœŸ+60ç§’å†·å´æœŸï¼‰ç²¾ç¡®ç®¡æ§ä¸šåŠ¡é¢‘ç‡

**ä»£ç æè¿°ï¼š**

```java
@Override
public String sendValidateEmail(String email, String sessionId, boolean hasAccount) {
    // æ„å»ºå¤åˆç¼“å­˜é”®ï¼šå®¢æˆ·ç«¯ä¼šè¯ID + é‚®ç®± + è´¦æˆ·çŠ¶æ€
    String key = "email:" + sessionId + ":" + email + ":" + hasAccount;
    // ç¬¬ä¸€é˜¶æ®µï¼šåŸå­æ€§æŠ¢å æ“ä½œï¼ˆSETNXå®ç°åˆ†å¸ƒå¼é”ï¼‰
    if (Boolean.TRUE.equals(template.opsForValue().setIfAbsent(key, "pending", 3, TimeUnit.MINUTES))) {
        String code = String.format("%06d", new Random().nextInt(1000000)); // éªŒè¯ç ç”Ÿæˆ
        template.opsForValue().set(key, code, 3, TimeUnit.MINUTES);
        messageClient.sendCodeEmail(email, code); // å¼‚æ­¥é€šçŸ¥é“¾è·¯
        return null;
    } else {
        // ç¬¬äºŒé˜¶æ®µçš„æ—¶æ•ˆåˆ†çº§ç®¡æ§
        Long expire = template.getExpire(key, TimeUnit.SECONDS);
        if (expire != null && expire > 120) { // ç²¾ç¡®åˆ°ç§’çº§çš„å‰©ä½™æ—¶é—´åˆ¤æ–­
            return "è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"; // å†·å´æœŸæç¤º
        }
        return "å·²æœ‰è¯·æ±‚æ­£åœ¨å¤„ç†ï¼Œè¯·å‹¿é‡å¤æäº¤"; // å¤„ç†ä¸­æç¤º
    }
}
```

#### 6.  åˆ†å¸ƒå¼æœåŠ¡é™æµä¸ç†”æ–­é™çº§æœºåˆ¶

**äº®ç‚¹æè¿°ï¼š**

* **æœåŠ¡ç†”æ–­é™çº§**ï¼šFeignClientå£°æ˜å¼ç†”æ–­ç­–ç•¥ï¼ˆFallbackè‡ªåŠ¨æ¿€æ´»ï¼‰ï¼Œå¼‚å¸¸æœåŠ¡è¿”å›é¢„è®¾å®‰å…¨å€¼
* **å‹å¥½æµé‡æ²»ç†**ï¼šå…¨å±€æµé‡è§„åˆ™å¼‚å¸¸å¤„ç†ï¼ˆ429çŠ¶æ€ç +JSONç»“æ„åŒ–å“åº”ï¼‰ï¼Œå®¢æˆ·ç«¯è¯·æ±‚ä¼˜é›…é™çº§

**ä»£ç ç‰‡æ®µï¼š**

```java
// Sentinelç»Ÿä¸€å¼‚å¸¸å¤„ç†
@Component
public class MyBlockExceptionHandler implements BlockExceptionHandler {

    private final ObjectMapper objectMapper = new ObjectMapper();

    @Override
    public void handle(HttpServletRequest request, HttpServletResponse response,
                       String resourceName, BlockException e) throws Exception {
        response.setStatus(429);  // HTTP 429 çŠ¶æ€ç 
        response.setContentType("application/json;charset=utf-8");
        PrintWriter writer = response.getWriter();
        R error = R.error(429, resourceName + "è¢«Sentinelé™åˆ¶äº†ï¼ŒåŸå› ï¼š" + e.getClass());
        String json = objectMapper.writeValueAsString(error);
        writer.write(json);
        writer.flush();
        writer.close();
    }
}
```

```yml
# Feignä¸Sentinelé›†æˆé…ç½®
spring:
  cloud:
    openfeign:
      client:
        config:
          default:
            logger-level: full
            connect-timeout: 5000 # è¿æ¥è¶…æ—¶æ§åˆ¶
            read-timeout: 10000 # è¯»å–è¶…æ—¶æ§åˆ¶
feign:
  sentinel:
    enabled: true # ç†”æ–­å™¨å¼€å…³
```

#### 7. **æ™ºèƒ½è¯„åˆ†ç®—æ³•å¼•æ“**

**äº®ç‚¹æè¿°ï¼š**

- **åŠ¨æ€æƒé‡æ¨¡å‹**ï¼šæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è§’è‰²å±æ€§æƒé‡ï¼ŒZ-Scoreæ ‡å‡†åŒ–è¯„ä¼°ä½“ç³»
- **æ•°æ®é©±åŠ¨ä¼˜åŒ–**ï¼šå®æ—¶è®¡ç®—å£°éª¸è£…å¤‡ç›¸å¯¹åå·®å€¼ï¼Œå¤šç»´å±æ€§è”åŠ¨åˆ†æ
- **å¯è§†åŒ–é…ç½®**ï¼šJSONåŠ¨æ€é…ç½®ç­›é€‰æ¡ä»¶ï¼Œæ”¯æŒå¤æ‚ä¸šåŠ¡åœºæ™¯æ‰©å±•

**ä»£ç ç‰‡æ®µï¼š**

```java
public interface EchoScoringSystemService {

    String[] getEchoKeys(); // è·å–å‰¯è¯æ¡åç§°
    Map<String, double[]> getEchoValues(); // è·å–å‰¯è¯æ¡å–å€¼
    Map<String, Double> getEchoAverage(); // è·å–å‰¯è¯æ¡åŸºå‡†å€¼

    Map<String, Weapon> getWeapons(); // è·å–æ­¦å™¨
    List<Weapon> getWeaponsByScreen(String json); // è·å–ç­›é€‰åçš„æ­¦å™¨
    void setWeapon(String username, String name, String weapon); // è®¾ç½®è§’è‰²æ­¦å™¨

    Map<String, Character> getCharacters(String username); // è·å–è§’è‰²
    Map<String, Character> getCharactersByScreen(String username, String json); // è·å–ç­›é€‰åçš„è§’è‰²
    List<String> getNames(); // è·å–è§’è‰²åç§°åˆ—è¡¨
    Map<String, List<String>> getCharacterGroupsByType(); // è·å–è§’è‰²åˆ†ç»„
    Map<String, int[]> getCharacterStats(); // è·å–è§’è‰²ä¸‰ç»´å±æ€§
    Map<String, ? extends Number> getweightsByUsername(String username, String name); // è·å–è§’è‰²å®Œæ•´å‰¯è¯æ¡æƒé‡
    void setweights(String username, String name, String json); // è®¾ç½®è§’è‰²å‰¯è¯æ¡æƒé‡
    void reweights(String username, String name); // é‡ç½®è§’è‰²å‰¯è¯æ¡æƒé‡

    Map<String, Number> getEchoPercent(String username, String name, String json); // è·å–å£°éª¸è¯„åˆ†

    Map<String, List<Echo>> getData(String username); // è·å–è§’è‰²è¯æ¡æ•°æ®
    Map<String, List<Echo>> getDataByScreen(String username, String json); // è·å–ç­›é€‰åçš„è§’è‰²è¯æ¡æ•°æ®
    Map<String, List<Echo>> addData(String username, String json, String name); // æ·»åŠ è§’è‰²å£°éª¸æ•°æ®
    Map<String, List<Echo>> delEcho(String username, Integer index, String name); // åˆ é™¤è§’è‰²å£°éª¸æ•°æ®
    Map<String, List<Echo>> reData(String username); // é‡æ–°è®¡ç®—è§’è‰²å£°éª¸æ•°æ®
    List<Map<String, String>> getEchoStats(String username); // è·å–å£°éª¸å±æ€§

    int[] getEchoCnts(String username); // è·å–å£°éª¸æ€»æ•°
    Map<String, Integer> getEchoRelativeDeviation(String username); // è·å–å£°éª¸æ ‡å‡†åŒ–åå·®
    Map<String, Integer> getEchoRelativeDeviation(String username, String name); // è·å–è§’è‰²å£°éª¸æ ‡å‡†åŒ–åå·®
    Map<String, Double> getWeightKurtosis(String username); // è·å–æƒé‡è¿‡å‰©å³°åº¦

    void addTempEcho(String username, String echo, String nameList); // æ·»åŠ ä¸´æ—¶å£°éª¸
    List<Map<String, Echo>> getTempData(String username); // è·å–ä¸´æ—¶æ•°æ®
    List<Map<String, Echo>> getTempDataByScreen(String username, String json);
    void delTempSubEcho(String username, String json, String name); // ç§»é™¤ä¸´æ—¶å£°éª¸è§’è‰²
    void delTempEcho(String username, String json); // ç§»é™¤ä¸´æ—¶å£°éª¸

    void batchImportEcho(String username, List<RoleDTO> roles, Boolean isDelete); // æ‰¹é‡å¯¼å…¥å£°éª¸
}
```

```java
@Data
@AllArgsConstructor
public class Echo { // å£°éª¸

    public String main;
    public String cost;
    public List<List<String>> echo;
    public String score;

    public static Echo getEmpty() {
        List<List<String>> echo = new ArrayList<>();
        for (int i = 0; i < 5; i++) {
            List<String> tmp = new ArrayList<>(Arrays.asList("", "", ""));
            echo.add(tmp);
        }
        return new Echo("", "", echo, "");
    }

    public static Echo getCloned(Echo echo) {
        Echo res = getEmpty();
        res.main = echo.main;
        res.cost = echo.cost;
        res.score = echo.score;
        List<List<String>> list = new ArrayList<>();
        for (int i = 0; i < 5; i++) {
            List<String> tmp = new ArrayList<>(echo.echo.get(i));
            list.add(tmp);
        }
        res.echo = list;
        return res;
    }
}
```

```java
@Override
public Map<String, Number> getEchoPercent(String username, String name, String json) { // è·å–å£°éª¸è¯„åˆ†
    Map<String, Number> values = JSON.parseObject(json, new TypeReference<Map<String, Number>>() {});
    Map<String, ? extends Number> weights = getweightsByUsername(username, name); // è§’è‰²å®Œæ•´å‰¯è¯æ¡æƒé‡
    Map<String, Number> res = new LinkedHashMap<>();
    List<Map.Entry<String, Double>> pairs = new ArrayList<>();
    for (String key: ECHO_KEYS) {
        double value = weights.get(key).doubleValue() * ECHO_VALUES.get(key)[0] / ECHO_AVERAGE.get(key);
        pairs.add(new AbstractMap.SimpleEntry<>(key, value));
    }
    pairs.sort(Map.Entry.comparingByValue(Comparator.reverseOrder()));
    double maxScore = pairs.stream().limit(5).mapToDouble(Map.Entry::getValue).sum(); // ç†è®ºæœ€å¤§åˆ†æ•°
    double myScore = 0; // å®é™…åˆ†æ•°
    for (String key: values.keySet()) {
        double score = weights.get(key).doubleValue() * values.get(key).doubleValue() / ECHO_AVERAGE.get(key);
        myScore += score;
        res.put(key, score);
    }
    for (String key: values.keySet()) {
        res.put(key, (int) Math.round(res.get(key).doubleValue() * 100 / myScore)); // æ¯ä¸ªå‰¯è¯æ¡å¯¹æ€»å¾—åˆ†çš„è´¡çŒ®ç™¾åˆ†æ¯”
    }
    res.put("æ€»å¾—åˆ†", (int) Math.round(myScore * 100 / maxScore)); // æ€»å¾—åˆ†
    return res;
}
```

#### 8. åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿå¯é æ€§ä¿éšœè®¾è®¡

**äº®ç‚¹æè¿°ï¼š**

- **æ¶ˆæ¯æŠ•é€’å¯é æ€§ä¿éšœ**ï¼šé‡‡ç”¨æ¶ˆæ¯çŠ¶æ€æ—¥å¿—è¡¨ï¼ˆ`message_id_log`ï¼‰ä¸ACKè‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œé€šè¿‡äº‹åŠ¡å‹æ›´æ–°ç¡®ä¿è‡³å°‘ä¸€æ¬¡æŠ•é€’ï¼ˆ`selectMessageIdLog/updateMessageStatus`ï¼‰
- **ç²¾å‡†å»¶è¿Ÿé˜Ÿåˆ—å®ç°**ï¼šåŸºäºTTL+æ­»ä¿¡è·¯ç”±é“¾å¼ç»“æ„ï¼ˆ`x-dead-letter-exchange`ï¼‰ï¼Œå®ç°è®¢å•è¶…æ—¶åœºæ™¯çš„æ¯«ç§’çº§äº‹ä»¶è§¦å‘ï¼ˆ`e1->q2->e2->q3`è·¯ç”±é“¾è·¯ï¼‰
- **æ¶ˆè´¹ç«¯å¹‚ç­‰æ€§æ§åˆ¶**ï¼šé€šè¿‡å…¨å±€æ¶ˆæ¯IDçŠ¶æ€æœºï¼ˆ`0/1/2`ä¸‰æ€æ ‡è®°ï¼‰ï¼Œåœ¨ä¸šåŠ¡å¤„ç†å‰å¼ºåˆ¶æ ¡éªŒæ¶ˆæ¯ç”Ÿå‘½å‘¨æœŸï¼Œè§„é¿é‡å¤æ¶ˆè´¹é£é™©

**ä»£ç ç‰‡æ®µï¼š**

```java
// æ­»ä¿¡è·¯ç”±é…ç½®ï¼ˆå®ç°å»¶è¿Ÿæ¶ˆæ¯é‡å®šå‘ï¼‰
@Configuration
@ConditionalOnProperty(name = "spring.rabbitmq.listener.simple.retry.enabled", havingValue = "true")
public class ErrorMessageConfig {
	
    // åˆ›å»ºå¼‚å¸¸æ¶ˆæ¯ä¸“ç”¨äº¤æ¢å™¨ä¸é˜Ÿåˆ—
    @Bean
    public DirectExchange errorExchange() { // æ­»ä¿¡æ¶ˆæ¯æœ€ç»ˆè·¯ç”±èŠ‚ç‚¹
        return new DirectExchange("error.direct");
    }

    @Bean
    public Queue errorQueue() { // å¼‚å¸¸æ¶ˆæ¯æŒä¹…åŒ–å­˜å‚¨
        return new Queue("error.queue", true);
    }

    @Bean
    public Binding errorBinding(Queue errorQueue, DirectExchange errorExchange) { // å»ºç«‹æ­»ä¿¡æ¶ˆæ¯è·¯ç”±è§„åˆ™
        return BindingBuilder.bind(errorQueue).to(errorExchange).with("error");
    }

    @Bean
    public MessageRecoverer messageRecoverer(RabbitTemplate rabbitTemplate) { // å…¨å±€å¼‚å¸¸æ¶ˆæ¯æ”¶é›†å™¨
        return new RepublishMessageRecoverer(rabbitTemplate, "error.direct", "error");
    }
}
```

```java
// å»¶è¿Ÿé˜Ÿåˆ—æ‹“æ‰‘é…ç½®ï¼ˆTTL+æ­»ä¿¡è·¯ç”±å®ç°ï¼‰
@Configuration
public class RabbitConfiguration {

    @Bean
    public MessageConverter messageConverter() { // é…ç½®æ¶ˆæ¯è½¬æ¢å™¨
        Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();
        converter.setCreateMessageIds(true);
        return converter;
    }
	
    // é˜Ÿåˆ—/äº¤æ¢å™¨ç»‘å®šå…³ç³»å®šä¹‰...
    @Bean
    public DirectExchange e1() {
        return new DirectExchange("e1");
    }
    @Bean
    public DirectExchange e2() {
        return new DirectExchange("e2");
    }
    @Bean
    public Queue q2() { // å»¶æ—¶é˜Ÿåˆ—æ ¸å¿ƒå®šä¹‰
        Map<String, Object> args = new HashMap<>();
        args.put("x-queue-mode", "lazy");
        args.put("x-dead-letter-exchange", "e2"); // æ­»ä¿¡ç›®æ ‡äº¤æ¢å™¨
        args.put("x-dead-letter-routing-key", "pay_failed.ttl"); // å»¶æ—¶äº‹ä»¶è·¯ç”±é”®
        return new Queue("q2", true, false, false, args); // å¯ç”¨Lazy Queueæ¨¡å¼
    }
    @Bean
    public Queue q3() {
        return new Queue("q3", true);
    }
    @Bean
    public Binding q2Binding(DirectExchange e1, Queue q2) {
        return BindingBuilder.bind(q2).to(e1).with("pay_failed");
    }
    @Bean
    public Binding q3Binding(DirectExchange e2, Queue q3) {
        return BindingBuilder.bind(q3).to(e2).with("pay_failed.ttl");
    }
}
```

```java
// æ¶ˆæ¯å¤„ç†å±‚ï¼ˆå®ç°å¹‚ç­‰æ€§æ ¡éªŒï¼‰
@Slf4j
@Component
public class RabbitMQListener {

    @Resource
    AuthClient authClient;

    @Resource
    MessageService messageService;

    @Resource
    MqMapper mqMapper;

    @RabbitListener(bindings = @QueueBinding(
            value = @Queue(name = "q4", arguments = @Argument(name = "x-queue-mode", value = "lazy")),
            exchange = @Exchange(name = "e1"),
            key = {"code"}
    )) // q4ç›‘å¬é…ç½®
    public void listenCodeMessage(Map<String, String> msg) { // å‘é€éªŒè¯ç é‚®ä»¶
        String id = msg.get("id"), email = msg.get("email"), code = msg.get("code");
        Integer status = mqMapper.selectMessageIdLog(id);
        if (status != null && status != 0) return; // å¹‚ç­‰æ€§æ‹¦æˆª
        Boolean res = messageService.sendCodeEmail(email, code); // ä¸šåŠ¡æ“ä½œ
        if (res) mqMapper.updateMessageIdLog(id, 1); // æˆåŠŸçŠ¶æ€æŒä¹…åŒ–
        else {
            mqMapper.updateMessageIdLog(id, 2); // å¤±è´¥çŠ¶æ€æ ‡è®°
            throw new RuntimeException("å‘é€é‚®ä»¶å¤±è´¥"); // è§¦å‘é‡è¯•/æ­»ä¿¡
        }
    }

    @RabbitListener(bindings = @QueueBinding(
            value = @Queue(name = "q1", arguments = @Argument(name = "x-queue-mode", value = "lazy")),
            exchange = @Exchange(name = "e1"),
            key = {"pay_success"}
    ))
    public void listenPaySuccessMessage(Map<String, String> msg) { // æ”¯ä»˜æˆåŠŸé€šçŸ¥
        String id = msg.get("id"), username = msg.get("username");
        Integer status = mqMapper.selectMessageIdLog(id);
        if (status != null && status != 0) return;
        Account account = authClient.getAccount(username);
        String email = account.getEmail();
        Boolean res = messageService.sendPaySuccessEmail(email, username);
        if (res) mqMapper.updateMessageIdLog(id, 1);
        else {
            mqMapper.updateMessageIdLog(id, 2);
            throw new RuntimeException("å‘é€é‚®ä»¶å¤±è´¥");
        }
    }

    @RabbitListener(queues = "q3")
    public void listenPayFailedMessage(Map<String, String> msg) { // è®¢å•è¿‡æœŸé€šçŸ¥
        String id = msg.get("id"), outTradeNo = msg.get("outTradeNo"), username = msg.get("username"), time = msg.get("time");
        Integer status = mqMapper.selectMessageIdLog(id);
        if (status != null && status != 0) return;
        if (authClient.isVip(username)) { // ç”¨æˆ·å·²æ”¯ä»˜
            mqMapper.updateMessageIdLog(id, 1);
            return;
        }
        Account account = authClient.getAccount(username);
        String email = account.getEmail();
        Boolean res = messageService.sendPayFailedEmail(email, username, time, outTradeNo);
        if (res) mqMapper.updateMessageIdLog(id, 1);
        else {
            mqMapper.updateMessageIdLog(id, 2);
            throw new RuntimeException("å‘é€é‚®ä»¶å¤±è´¥");
        }
    }
}
```

#### 9. é«˜å¹¶å‘æ”¯ä»˜ç³»ç»Ÿæ¶æ„ä¼˜åŒ–å®è·µ

**äº®ç‚¹æè¿°ï¼š**

- **åŠ¨æ€ç¼“å­˜è¿‡æœŸç­–ç•¥ä¸é˜²é›ªå´©è®¾è®¡**ï¼šé€šè¿‡ä¸ºç¼“å­˜è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´ï¼ˆ30~33åˆ†é’Ÿï¼‰ï¼Œåˆ†æ•£ç¼“å­˜å¤±æ•ˆå³°å€¼ï¼Œè§„é¿æ•°æ®åº“é›ªå´©é£é™©
- **å¤šçº§æ”¯ä»˜çŠ¶æ€æ ¡éªŒä¸æœ¬åœ°çŠ¶æ€å‰ç½®**ï¼šä¼˜å…ˆé€šè¿‡æœ¬åœ°VIPçŠ¶æ€å¿«é€Ÿå“åº”æ”¯ä»˜æŸ¥è¯¢ï¼Œæœªå‘½ä¸­æ—¶å†è°ƒç”¨æ”¯ä»˜å®API
- **é›¶æ–‡ä»¶IOçš„å†…å­˜çº§äºŒç»´ç ç”Ÿæˆ**ï¼šåŸºäºZXingç›´æ¥ç”ŸæˆBase64ç¼–ç çš„äºŒç»´ç Data URIï¼Œçœå»æ–‡ä»¶è¯»å†™æµç¨‹

**ä»£ç ç‰‡æ®µï¼š**

```java
// æ”¯ä»˜æ ¸å¿ƒæœåŠ¡å®ç°
@Service
public class EasyPayServiceImpl implements EasyPayService {

    @Resource
    Config config;

    @Resource
    StringRedisTemplate template;

    @Resource
    PayMapper payMapper;

    @Resource
    MessageClient messageClient;

    @Resource
    AuthClient authClient;
	
    // æ”¯ä»˜ä¸»é€»è¾‘
    @Override
    @Transactional(rollbackFor = Exception.class)
    public AliPay pay(String username) { // ç”Ÿæˆæ”¯ä»˜äºŒç»´ç 
        String lockKey = LOCK_PREFIX + username;
        try {
            // è·å–åˆ†å¸ƒå¼é”ï¼Œé˜²æ­¢ç¼“å­˜å‡»ç©¿
            Boolean isLocked = template.opsForValue().setIfAbsent(lockKey, UUID.randomUUID().toString(), 3, TimeUnit.SECONDS);
            if (Boolean.TRUE.equals(isLocked)) {
                try {
                    if (Boolean.TRUE.equals(template.hasKey(username))) {
                        String json = template.opsForValue().get(username);
                        return JSON.parseObject(json, new TypeReference<AliPay>() {});
                    }
                    Order existingOrder = payMapper.findOrderByUsername(username);
                    if (existingOrder != null && !isOrderExpired(existingOrder)) {
                        return new AliPay(
                                existingOrder.getId(),
                                username,
                                PayUtil.urlToQrcode(existingOrder.getQrUrl())
                        );
                    }
                    String orderId = username + "-" + System.currentTimeMillis();
                    Factory.setOptions(config);
                    AlipayTradePrecreateResponse response = Factory.Payment.FaceToFace().preCreate("å£°éª¸è¯„åˆ†ç³»ç»ŸVIP", orderId, "39.99");
                    String httpBody = response.getHttpBody();
                    JSONObject jsonObject = JSON.parseObject(httpBody);
                    String qrUrl = jsonObject.getJSONObject("alipay_trade_precreate_response").getString("qr_code");
                    AliPay aliPay = new AliPay(orderId, username, PayUtil.urlToQrcode(qrUrl));
                    // åˆ é™¤æ—§è®¢å•å¹¶æ’å…¥æ–°è®¢å•ï¼ˆäº‹åŠ¡å†…æ“ä½œï¼‰
                    payMapper.deleteOrderByUsername(username);
                    payMapper.insertOrder(new Order(orderId, username, LocalDateTime.now(), qrUrl));
                    String aliPayJson = JSON.toJSONString(aliPay); // è®¾ç½®ç¼“å­˜ï¼ˆå¸¦éšæœºè¿‡æœŸæ—¶é—´ï¼Œé˜²é›ªå´©ï¼‰
                    int expireMinutes = 30 + new Random().nextInt(3);
                    template.opsForValue().set(username, aliPayJson, expireMinutes, TimeUnit.MINUTES);
                    // å‘é€å»¶è¿Ÿæ¶ˆæ¯ï¼ˆ30åˆ†é’Ÿåæ£€æŸ¥æ”¯ä»˜çŠ¶æ€ï¼‰
                    Map<String, String> msg = new HashMap<>();
                    msg.put("id", UUID.randomUUID() + "-FAILED");
                    msg.put("outTradeNo", orderId);
                    msg.put("username", username);
                    msg.put("time", LocalDateTime.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")));
                    messageClient.insertMessageIdLog(msg.get("id"), 0);
                    messageClient.sendDelayedMqMessage("e1", "pay_failed", msg, "1800000"); // 30åˆ†é’Ÿå»¶è¿Ÿ
                    return aliPay;
                } finally {
                    template.delete(lockKey); // é‡Šæ”¾é”
                }
            } else {
                // è·å–é”å¤±è´¥ï¼Œç­‰å¾…åé‡è¯•ï¼ˆé€‚ç”¨äºä½å¹¶å‘åœºæ™¯ï¼‰
                Thread.sleep(1000);
                return pay(username);
            }
        } catch (Exception e) {
            log.error("æ”¯ä»˜äºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼Œç”¨æˆ·ï¼š{}", username, e);
            return null;
        }
    }
	
    // æ”¯ä»˜å›è°ƒ
    @Override
    public String notify(HttpServletRequest request) { // æ”¯ä»˜æˆåŠŸå›è°ƒæ¥å£
        String outTradeNo = request.getParameter("out_trade_no");
        String username = outTradeNo.substring(0, outTradeNo.indexOf('-'));
        if (Boolean.TRUE.equals(template.hasKey(username))) {
            template.delete(username); // æ”¯ä»˜æˆåŠŸç«‹å³æ¸…é™¤ç¼“å­˜
        }
        authClient.updateVipUser(username); // æ ¸å¿ƒæƒç›Šå‘æ”¾
        Map<String, String> msg = new HashMap<>(
                Map.ofEntries(
                        Map.entry("id", UUID.randomUUID() + "-SUCCESS"),
                        Map.entry("outTradeNo", outTradeNo),
                        Map.entry("username", username)
                )
        );
        messageClient.insertMessageIdLog(msg.get("id"), 0);
        messageClient.sendMqMessage("e1", "pay_success", msg); // äº‹åŠ¡æ¶ˆæ¯æœ€ç»ˆé€šçŸ¥
        return username + "ï¼šSuccess";
    }
	
    // æ”¯ä»˜ç»“æœæŸ¥è¯¢ï¼ˆå¤šçº§æ ¡éªŒæœºåˆ¶ï¼‰
    @Override
    public int query(String username, String id) { // æŸ¥è¯¢æ”¯ä»˜ç»“æœ
        if (authClient.isVip(username)) return 1; // ä¼˜å…ˆæ ¡éªŒæœ¬åœ°çŠ¶æ€
        try { // æ”¯ä»˜å®å®˜æ–¹æŸ¥è¯¢å…œåº•ï¼ˆå¼‚å¸¸æµé‡è¿‡æ»¤ï¼‰
            Factory.setOptions(config);
            AlipayTradeQueryResponse query = Factory.Payment.Common().query(id);
            JSONObject jsonObject = JSONObject.parseObject(query.getHttpBody());
            if (jsonObject.getJSONObject("alipay_trade_query_response").get("code").equals("10000")) {
                authClient.updateVipUser(username);
                return 1;
            }
            else return 0;
        } catch (Exception e) {
            return -1;
        }
    }
}
```

```java
public class PayUtil {

    private final static QrConfig QR_CONFIG = new QrConfig(500, 500);
    static {
        QR_CONFIG.setErrorCorrection(ErrorCorrectionLevel.H);
    }

    public static String urlToQrcode(String url) { // URLè½¬äºŒç»´ç base64å­—ç¬¦ä¸²
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        String targetType = "jpg";
        QrCodeUtil.generate(url, QR_CONFIG, targetType, baos);
        String base64 = Base64.getEncoder().encodeToString(baos.toByteArray());
        return "data:" + targetType + ";base64," + base64;
    }
}
```

### å‰ç«¯

#### 1. é«˜æ•ˆçš„çŠ¶æ€ç®¡ç†ä¸æŒä¹…åŒ–

> é€šè¿‡ Pinia å®ç°å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œç»“åˆæŒä¹…åŒ–æ’ä»¶è‡ªåŠ¨ç¼“å­˜ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
>
> è·¯ç”±å®ˆå«åŠ¨æ€æ ¡éªŒç”¨æˆ·çŠ¶æ€ï¼Œæœªç™»å½•ç”¨æˆ·è‡ªåŠ¨è·³è½¬è‡³ç™»å½•é¡µï¼Œä¿éšœç³»ç»Ÿå®‰å…¨æ€§

#### 2. å¤æ‚çš„è¡¨å•äº¤äº’ä¸éªŒè¯

> é€šè¿‡ç»„åˆå¼ API å°è£…å¯å¤ç”¨çš„è¡¨å•éªŒè¯é€»è¾‘ï¼Œæ”¯æŒå®æ—¶æ ¡éªŒã€å¼‚æ­¥æ¥å£æŸ¥é‡ï¼ˆå¦‚é‚®ç®±æ˜¯å¦æ³¨å†Œï¼‰å’Œé˜²é‡å¤æäº¤
>
> é›†æˆ hCaptcha éªŒè¯æœºåˆ¶ï¼Œæœ‰æ•ˆé˜²æ­¢æœºå™¨æ¶æ„æ³¨å†Œï¼Œæå‡ç³»ç»Ÿå®‰å…¨æ€§

#### 3. æ”¯ä»˜æµç¨‹ä¸å¼‚æ­¥çŠ¶æ€ç®¡ç†

> åŸºäº Axios å°è£…æ”¯ä»˜æ¥å£ï¼Œå®ç°æ”¯ä»˜å®æ²™ç®±ç¯å¢ƒæ¨¡æ‹Ÿæ”¯ä»˜æµç¨‹
>
> å®æ—¶æŸ¥è¯¢è®¢å•çŠ¶æ€ï¼Œç»“åˆ Element Plus çš„åŠ¨ç”»åé¦ˆï¼ˆå¦‚ `ElMessageBox`ï¼‰ï¼Œæä¾›æµç•…çš„ç”¨æˆ·æ”¯ä»˜ä½“éªŒ

#### 4. åŠ¨æ€è·¯ç”±ä¸æƒé™æ§åˆ¶

> ä½¿ç”¨ Vue Router çš„æ‡’åŠ è½½æŠ€æœ¯ä¼˜åŒ–é¦–å±æ€§èƒ½ï¼Œè·¯ç”±å®ˆå«è‡ªåŠ¨æ‹¦æˆªæœªç™»å½•ç”¨æˆ·è®¿é—®å—é™é¡µé¢
>
> é€šè¿‡ `meta` å­—æ®µåŠ¨æ€æ›´æ–°é¡µé¢æ ‡é¢˜å’Œ Faviconï¼Œæå‡ç”¨æˆ·ä½“éªŒ

#### 5. ç»„ä»¶åŒ–ä¸ UI ä¸€è‡´æ€§

> é‡‡ç”¨ç»„ä»¶åŒ–è®¾è®¡å®ç°å¸ƒå±€å¤ç”¨ï¼Œç»“åˆ Element Plus çš„ `ElContainer` æ„å»ºå“åº”å¼åå°ç®¡ç†ç³»ç»Ÿç•Œé¢
>
> é€šè¿‡ CSS åŠ¨ç”»å’Œ SVG å›¾æ ‡åº“å¢å¼ºäº¤äº’ç»†èŠ‚ï¼Œç¡®ä¿ UI é£æ ¼ä¸€è‡´æ€§

#### 6. ç½‘ç»œè¯·æ±‚å°è£…ä¸é”™è¯¯å¤„ç†

> åŸºäº Axios å°è£…ç½‘ç»œè¯·æ±‚æ¨¡å—ï¼Œå®ç°ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œèº«ä»½æ ¡éªŒé€»è¾‘
>
> æ”¯æŒå¤šç§ Content-Typeï¼ˆå¦‚ `application/json` å’Œ `x-www-form-urlencoded`ï¼‰ï¼Œçµæ´»é€‚é…åç«¯æ¥å£

#### 7. å“åº”å¼è®¾è®¡ä¸ç”¨æˆ·ä½“éªŒä¼˜åŒ–

> é€šè¿‡å“åº”å¼å¸ƒå±€å’Œ Element Plus çš„è¿‡æ¸¡åŠ¨ç”»ï¼ˆå¦‚ `el-fade-in-linear`ï¼‰ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…
>
> å…³é”®æ“ä½œï¼ˆå¦‚æ³¨é”€ç”¨æˆ·ï¼‰å¢åŠ äºŒæ¬¡ç¡®è®¤å¼¹çª—ï¼Œé™ä½è¯¯æ“ä½œé£é™©




## ğŸ“Š ä»£ç é‡ç»Ÿè®¡

æ•°æ®æˆªæ­¢è‡³ **v1.7.3**

ï¼ˆå•ä½ï¼šè¡Œï¼Œä¸åŒ…å«æ–‡æ¡£ä»£ç ï¼‰

|    é¡¹ç›®å    | åç«¯ | å‰ç«¯ | æ€»å’Œ  |
| :----------: | :--: | :--: | :---: |
|   ç½‘å…³æœåŠ¡   | 187  |  -   |  187  |
|   è®¤è¯æœåŠ¡   | 902  |  -   |  902  |
|   å£°éª¸æœåŠ¡   | 1956 |  -   | 1956  |
|   æ¶ˆæ¯æœåŠ¡   | 696  |  -   |  696  |
|   æ”¯ä»˜æœåŠ¡   | 706  |  -   |  706  |
| ï¼ˆå…¶ä»–ä»£ç ï¼‰ | 366  | 5930 | 6296  |
|   **æ€»å’Œ**   | 4813 | 5930 | 10743 |



## ğŸ“‚ é¡¹ç›®ç»“æ„

### åç«¯

æœ¬åœ°æœåŠ¡æ‹“æ‰‘å›¾ï¼š

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-42.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-42.png?v=3)

çˆ¶å­æ¨¡å—ç»“æ„å…³ç³»å›¾ï¼š

```mermaid
graph TD
  backend[backend] --> services[services]
  backend --> common[common]
  backend --> gateway[gateway]
  services --> auth-service[auth-service]
  services --> echo-service[echo-service]
  services --> message-service[message-service]
  services --> pay-service[pay-service]
```


```
backend
â”œâ”€â”€ common
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ common
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ entity
â”‚   â”‚   â”‚   â”‚               â”œâ”€â”€ Account.java
â”‚   â”‚   â”‚   â”‚               â”œâ”€â”€ AccountUser.java
â”‚   â”‚   â”‚   â”‚               â”œâ”€â”€ R.java
â”‚   â”‚   â”‚   â”‚               â””â”€â”€ RestBean.java
â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚       â””â”€â”€ java
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ gateway
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ gateway
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ filter
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ RtGlobalFilter.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ GatewayMainApplication.java
â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â”‚       â”œâ”€â”€ application-route.yml
â”‚   â”‚   â”‚       â””â”€â”€ application.yml
â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚       â””â”€â”€ java
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ services
â”‚   â”œâ”€â”€ auth-service
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ auth
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ client
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ fallback
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ MessageClientFallback.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ feign
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ EchoClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ MessageClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ PayClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ config
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ FeignConfig.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ SecurityConfiguration.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ WebConfiguration.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ controller
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ AuthorizeController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ UserController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ exception
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyBlockExceptionHandler.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ interceptor
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ AuthorizeInterceptor.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ mapper
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DataGovernanceMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ UserMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ service
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ AuthorizeService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ UserService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ impl
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ AuthorizeServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ UserServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â””â”€â”€ AuthMainApplication.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-client.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-datasource.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-redis.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-seata.yml
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ application.yml
â”‚   â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚   â”‚       â””â”€â”€ java
â”‚   â”‚   â”‚           â””â”€â”€ com
â”‚   â”‚   â”‚               â””â”€â”€ auth
â”‚   â”‚   â”‚                   â””â”€â”€ AuthTest.java
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ echo-service
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ echo
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ controller
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DataGovernanceController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ EchoScoringSystemController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ dto
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ EchoPair.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ RoleDTO.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ entity
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ Character.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ Echo.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ EchoDO.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ Weapon.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ exception
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyBlockExceptionHandler.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ mapper
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DataGovernanceMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ EchoMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ service
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ DataGovernanceService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ EchoScoringSystemService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ impl
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ DataGovernanceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ EchoScoringSystemServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ util
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ EchoConvert.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ EchoUtil.java
â”‚   â”‚   â”‚   â”‚   â”‚           â””â”€â”€ EchoMainApplication.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-datasource.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-seata.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-redis.yml
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ application.yml
â”‚   â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚   â”‚       â””â”€â”€ java
â”‚   â”‚   â”‚           â””â”€â”€ com
â”‚   â”‚   â”‚               â””â”€â”€ echo
â”‚   â”‚   â”‚                   â””â”€â”€ EchoTest.java
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ message-service
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ message
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ client
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ fallback
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ AuthClientFallback.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ feign
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ AuthClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ config
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ErrorMessageConfig.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ FeignConfig.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ RabbitConfiguration.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ controller
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MessageController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ exception
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyBlockExceptionHandler.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ mapper
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MqMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ service
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ MessageService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ impl
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ MessageServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ listener
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ RabbitMQListener.java
â”‚   â”‚   â”‚   â”‚   â”‚           â””â”€â”€ MessageMainApplication.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-client.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-datasource.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-email.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-mq.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-redis.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-seata.yml
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ application.yml
â”‚   â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚   â”‚       â””â”€â”€ java
â”‚   â”‚   â”‚           â””â”€â”€ com
â”‚   â”‚   â”‚               â””â”€â”€ message
â”‚   â”‚   â”‚                   â””â”€â”€ MessageTest.java
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ pay-service
â”‚   â”‚   â”œâ”€â”€ src
â”‚   â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ pay
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ client
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ fallback
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ AuthClientFallback.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ feign
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ AuthClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ MessageClient.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ config
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ autoconfig
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ AliPayConfiguration.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ FeignConfig.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ properties
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ AliPayProperties.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ controller
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DataGovernanceController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ EasyPayController.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ dto
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ AliPay.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ entity
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ Order.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ exception
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ MyBlockExceptionHandler.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ mapper
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DataGovernanceMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ PayMapper.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ service
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â”œâ”€â”€ DataGovernanceService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â”‚   â””â”€â”€ EasyPayService.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ impl
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ DataGovernanceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚       â””â”€â”€ EasyPayServiceImpl.java
â”‚   â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ util
â”‚   â”‚   â”‚   â”‚   â”‚           â”‚   â””â”€â”€ PayUtil.java
â”‚   â”‚   â”‚   â”‚   â”‚           â””â”€â”€ PayMainApplication.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ resources
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-alipay.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-client.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-datasource.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-redis.yml
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ application-seata.yml
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ application.yml
â”‚   â”‚   â”‚   â””â”€â”€ test
â”‚   â”‚   â”‚       â””â”€â”€ java
â”‚   â”‚   â”‚           â””â”€â”€ com
â”‚   â”‚   â”‚               â””â”€â”€ pay
â”‚   â”‚   â”‚                   â””â”€â”€ PayTest.java
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â””â”€â”€ pom.xml
â””â”€â”€ pom.xml
```

### å‰ç«¯

```
frontend
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ æ­¦å™¨
â”‚   â”‚   â”œâ”€â”€ ä¸å½’å­¤å†›.png
â”‚   â”‚   â”œâ”€â”€ ...
â”‚   â”‚   â””â”€â”€ é¸£åŠ¨ä»ª-25å‹.png
â”‚   â”œâ”€â”€ è§’è‰²å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ ä¸¹ç‘¾.png
â”‚   â”‚   â”œâ”€â”€ ...
â”‚   â”‚   â””â”€â”€ é•¿ç¦».png
â”‚   â”œâ”€â”€ è§’è‰²å±æ€§
â”‚   â”‚   â”œâ”€â”€ å†·å‡.png
â”‚   â”‚   â”œâ”€â”€ å¯¼ç”µ.png
â”‚   â”‚   â”œâ”€â”€ æ°”åŠ¨.png
â”‚   â”‚   â”œâ”€â”€ æ¹®ç­.png
â”‚   â”‚   â”œâ”€â”€ çƒ­ç†”.png
â”‚   â”‚   â””â”€â”€ è¡å°„.png
â”‚   â”œâ”€â”€ è§’è‰²ç«‹ç»˜
â”‚   â”‚   â”œâ”€â”€ ä¸¹ç‘¾.png
â”‚   â”‚   â”œâ”€â”€ ...
â”‚   â”‚   â””â”€â”€ é•¿ç¦».png
â”‚   â”œâ”€â”€ favicon.png
â”‚   â”œâ”€â”€ login.png
â”‚   â”œâ”€â”€ qrcode.jpg
â”‚   â”œâ”€â”€ äº§å“æ–‡æ¡£.html
â”‚   â”œâ”€â”€ æŠ€æœ¯æ–‡æ¡£.html
â”‚   â””â”€â”€ é¡¹ç›®æ–‡æ¡£.html
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ assets
â”‚   â”‚   â””â”€â”€ avatars
â”‚   â”‚       â””â”€â”€ user.jpg
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”œâ”€â”€ layout
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.vue
â”‚   â”‚   â”‚   â””â”€â”€ Template.vue
â”‚   â”‚   â””â”€â”€ welcome
â”‚   â”‚       â”œâ”€â”€ ForgetPage.vue
â”‚   â”‚       â”œâ”€â”€ LoginPage.vue
â”‚   â”‚       â””â”€â”€ RegisterPage.vue
â”‚   â”œâ”€â”€ net
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ kurobbsApi.js
â”‚   â”œâ”€â”€ router
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ stores
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ views
â”‚   â”‚   â”œâ”€â”€ common
â”‚   â”‚   â”‚   â”œâ”€â”€ Document.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Test.vue
â”‚   â”‚   â”‚   â””â”€â”€ Welcome.vue
â”‚   â”‚   â””â”€â”€ echo
â”‚   â”‚       â”œâ”€â”€ AddEcho.vue
â”‚   â”‚       â”œâ”€â”€ AddTempEcho.vue
â”‚   â”‚       â”œâ”€â”€ EchoCollect.vue
â”‚   â”‚       â”œâ”€â”€ EchoList.vue
â”‚   â”‚       â”œâ”€â”€ EchoStats.vue
â”‚   â”‚       â”œâ”€â”€ SetWeight.vue
â”‚   â”‚       â”œâ”€â”€ StatsList.vue
â”‚   â”‚       â”œâ”€â”€ TempEchoList.vue
â”‚   â”‚       â””â”€â”€ WeightList.vue
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.js
â”œâ”€â”€ frontend.iml
â”œâ”€â”€ index.html
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ vite.config.js.timestamp-1732442157770-2a8fd92b04617.mjs
```



## ğŸ”„ ç‰ˆæœ¬æ§åˆ¶

**2024-12-9ï¼š[1.0.0]**

* é¡¹ç›®é¦–æ¬¡æäº¤

**2024-12-12ï¼š[1.1.0]**

* ä¿®å¤ä¿®æ”¹ç”¨æˆ·åç§°åï¼ŒåŸæ•°æ®ä¸¢å¤±çš„ bug

* ä¸´æ—¶å£°éª¸åˆ—è¡¨æ·»åŠ æŒ‰åç§°æ’åºè§„åˆ™
* ä¸´æ—¶å£°éª¸åˆ—è¡¨æ·»åŠ å®æ—¶æ˜¾ç¤ºå£°éª¸ä¸ªæ•°åŠŸèƒ½
* è§’è‰²å£°éª¸æ•°æ®æ·»åŠ æ ‡å‡†å·®å›¾åƒ

**2024-12-17ï¼š[1.2.0]**

* æ•°æ®è¡¥å…¨åˆ°é¸£æ½® 1.4 ç‰ˆæœ¬
* å¤šä¸ªæ¨¡å—æ·»åŠ ç­›é€‰è§’è‰²åŠŸèƒ½

**2024-12-24ï¼š[1.2.1]**

* ~~é¡¹ç›®éƒ¨ç½²ä¸Šçº¿ï¼šhttp://175.178.171.179:5173ï¼ˆå·²ä¸‹çº¿ï¼‰~~

**2024-12-31ï¼š[1.3.0]**

* ä¿®å¤ä¿®æ”¹è§’è‰²å£°éª¸æ—¶ï¼Œèƒ½é€‰æ‹©ä¿®æ”¹è§’è‰²çš„ bug

* ä¿®æ”¹éªŒè¯é‚®ä»¶å‘é€è€…çš„æ˜¾ç¤ºï¼Œä¿æŠ¤ä½œè€…éšç§
* æ·»åŠ ä½¿ç”¨æ‰‹å†Œ
* ä¿®æ”¹é¡¹ç›®æ–‡æ¡£

**2025-1-15ï¼š[1.4.0]**

* é’ˆå¯¹ç§»åŠ¨ç«¯åšäº†é€‚é…ï¼

* æ•°æ®è¡¥å…¨åˆ°é¸£æ½® 2.0 ä¸ŠåŠç‰ˆæœ¬

**2025-1-23ï¼š[1.5.0]**

* ä¿®æ”¹äº†æœ€æ ¸å¿ƒçš„è§’è‰²é»˜è®¤æƒé‡è§„åˆ™

* æ•°æ®è¡¥å…¨åˆ°é¸£æ½® 2.0 ç‰ˆæœ¬


**2025-3-17ï¼š[1.6.0]**

* **ç‰ˆæœ¬å·è§„èŒƒå‡çº§**ï¼šé‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ã€‚ç‰ˆæœ¬å·æ ¼å¼ä» `a.b` å‡çº§ä¸º `a.b.c`ï¼ˆä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼‰

* **åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„è¿ç§»** ï¼šå…¨é¢é‡æ„åç«¯æŠ€æœ¯æ ˆï¼Œé‡‡ç”¨åˆ†å¸ƒå¼å¾®æœåŠ¡è®¾è®¡ï¼Œæå‡ç³»ç»Ÿå¯æ‰©å±•æ€§ä¸ç¨³å®šæ€§ï¼Œä»£ç è§„èŒƒæ€§æ˜¾è‘—å¢å¼º

* **äººæœºéªŒè¯ç³»ç»Ÿä¸Šçº¿** ï¼šæ–°å¢æ™ºèƒ½äººæœºéªŒè¯ç åŠŸèƒ½ï¼Œæœ‰æ•ˆé˜²èŒƒè‡ªåŠ¨åŒ–æ”»å‡»ï¼Œä¿éšœç”¨æˆ·æ“ä½œçœŸå®æ€§

* **VIPæ”¯ä»˜æ²™ç®±ç¯å¢ƒéƒ¨ç½²** ï¼šæ­å»ºç‹¬ç«‹æµ‹è¯•ç¯å¢ƒï¼Œæ”¯æŒVIPæ”¯ä»˜åŠŸèƒ½å…¨æµç¨‹éªŒè¯ï¼Œä¸ºåç»­æ­£å¼ä¸Šçº¿å¥ å®šåŸºç¡€

* **äº¤äº’æµç¨‹ä¼˜åŒ–** ï¼šåœ¨å…³é”®æ“ä½œèŠ‚ç‚¹æ–°å¢å¯è§†åŒ–åŠ è½½æç¤ºï¼ˆLoadingï¼‰ï¼Œæ˜¾è‘—æ”¹å–„ç”¨æˆ·ç­‰å¾…ä½“éªŒ

* **é‚®ä»¶ç³»ç»Ÿå‡çº§** ï¼šå¼•å…¥RabbitMQæ¶ˆæ¯é˜Ÿåˆ—æŠ€æœ¯ï¼Œå®ç°å¼‚æ­¥é‚®ä»¶å‘é€ï¼Œæå‡é€šçŸ¥æ•ˆç‡ä¸å¯é æ€§

* **å†…å®¹ç‰ˆæœ¬åŒæ­¥** ï¼šå¹³å°æ•°æ®ç»´æŠ¤æ›´æ–°è‡³ã€Šé¸£æ½®ã€‹2.1ç‰ˆæœ¬ï¼Œç¡®ä¿æ¸¸æˆå†…å®¹ä¸æœ€æ–°ç‰ˆæœ¬ä¿æŒä¸€è‡´

**2025-5-8ï¼š[1.6.1]**

* é¡¹ç›®æ­£å¼ä¸Šçº¿ï¼šhttp://8.138.214.176:5173
* ç¼–å†™äº†å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£
* å®Œå–„ç”¨æˆ·è®¤è¯ä¸è®°ä½æˆ‘åŠŸèƒ½ï¼Œå‡å°‘ 401 å¼‚å¸¸å‘ç”Ÿ
* æ¯ä¸ªå¾®æœåŠ¡ä¿®æ”¹ä¸ºæ‹¥æœ‰ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œæ›´ç¬¦åˆå¾®æœåŠ¡è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™

**2025-5-13ï¼š[1.6.2]**

* ä¿®æ”¹é¡¹ç›®è®¿é—®åœ°å€è‡³ï¼šhttp://117.72.119.3:5173

* å®Œå–„ç”¨æˆ·è®¤è¯ä¸è®°ä½æˆ‘åŠŸèƒ½
* è°ƒæ•´è¿œç¨‹è°ƒç”¨æ—¥å¿—è®°å½•çº§åˆ«ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½
* ä¼˜åŒ–äº†é¡¹ç›®æ–‡æ¡£æ¨¡å—çš„äº¤äº’

**2025-8-24ï¼š[1.7.0]**

- é¡¹ç›®è®¿é—®åœ°å€æ›´æ–°ä¸ºï¼š[http://8.138.214.176:5173](http://8.138.214.176:5173/)
- æ–°å¢æ‰¹é‡å¯¼å…¥å£°éª¸æ•°æ®åŠŸèƒ½ï¼Œæ”¯æŒä»åº“è¡—åŒºä¸€é”®æŠ“å–æ•°æ®
- ä¼˜åŒ–æœåŠ¡å™¨èµ„æºé…ç½®ï¼Œåˆç†åˆ†é…å„ç»„ä»¶èŒè´£ï¼Œå‡å°‘é¡µé¢åŠ è½½ç­‰å¾…æ—¶é—´
- å®Œå–„å„è§’è‰²é»˜è®¤æƒé‡æ•°æ®ï¼Œæ•°æ®è¡¥å…¨è‡³é¸£æ½® 2.5 ç‰ˆæœ¬

**2025-9-21ï¼š[1.7.1]**

- æ–°å¢å¯¹é¸£æ½® 2.6 è§’è‰²å’Œæ­¦å™¨çš„æ”¯æŒ

**2025-9-27ï¼š[1.7.2]**

- ä¼˜åŒ–å¤šé¡µé¢åŠ è½½æ€§èƒ½ï¼šåˆå¹¶å¾ªç¯è¯·æ±‚ä¸ºæ‰¹é‡æ¥å£ï¼Œå›¾è¡¨æ•°æ®æŒ‰éœ€æ‡’åŠ è½½

**2025-9-27ï¼š[1.7.3]**

- ä¿®å¤å› æ¥å£æœªå®šä¹‰å¯¼è‡´çš„ 404 é”™è¯¯
- ä¿®å¤é¡¹ç›®æ–‡æ¡£é¡µé¢ä¸­èœå•æ å›¾æ ‡å¼‚å¸¸ç¼©å°çš„é—®é¢˜
- è§£å†³é¡µé¢å†…å®¹æŒ¤å‹æˆ–æ¨ªå‘æ»šåŠ¨æ—¶ä¾§è¾¹æ ä¸å…¶ä»–å…ƒç´ é‡å ã€é”™ä½çš„é—®é¢˜




## ğŸ¤ è´¡çŒ®æŒ‡å—

*ğŸš§ æ–‡æ¡£å®Œå–„ä¸­ï¼ˆé¢„è®¡ä¸‹ä¸ªä¸»è¦ç‰ˆæœ¬æ›´æ–°ï¼‰*

å¦‚æœ‰ç´§æ€¥è´¡çŒ®éœ€æ±‚ï¼Œè¯·é€šè¿‡ [GitHub Issues](https://github.com/KokoaChino/xkql/issues) æˆ– ğŸ“§ 2178740980@qq.com è”ç³»ç»´æŠ¤è€…



## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **[MIT License](LICENSE)** å¼€æºåè®®ï¼Œæ ¸å¿ƒæ¡æ¬¾å¦‚ä¸‹ï¼š

âœ… **å…è®¸çš„æ“ä½œ**ï¼š

- è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹ã€åˆå¹¶ã€å‘å¸ƒã€åˆ†å‘æœ¬é¡¹ç›®
- å¯ç”¨äºå•†ä¸šç”¨é€”
- å…è®¸é—­æºäºŒæ¬¡å¼€å‘

âš ï¸ **å”¯ä¸€ä¹‰åŠ¡**ï¼š

- **å¿…é¡»ä¿ç•™åŸå§‹ç‰ˆæƒå£°æ˜**ï¼ˆåŒ…å«åœ¨é¡¹ç›®æ‰€æœ‰å‰¯æœ¬ä¸­ï¼‰

ğŸ›¡ï¸ **å…è´£å£°æ˜**ï¼š

> æœ¬é¡¹ç›®æŒ‰"åŸæ ·"æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºé€‚é”€æ€§å’Œç‰¹å®šç”¨é€”é€‚ç”¨æ€§
>
> ä½œè€…/ç‰ˆæƒæŒæœ‰è€…å¯¹ä»»ä½•ç´¢èµ”ã€æŸå®³æˆ–å…¶ä»–è´£ä»»ä¸æ‰¿æ‹…è´£ä»»

å®Œæ•´æ³•å¾‹æ–‡æœ¬è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶



## â“ å¸¸è§é—®é¢˜

**Q1ï¼šå¦‚ä½•ä¿®æ”¹ç”¨æˆ·å¤´åƒï¼Ÿ**

ç›®å‰ç”¨æˆ·å¤´åƒç³»ç»Ÿå°šåœ¨å¼€å‘ä¸­ï¼Œæ‰€æœ‰ç”¨æˆ·é»˜è®¤ä½¿ç”¨ç³»ç»Ÿåˆ†é…çš„ã€Œä¿ç™»å¿ƒçˆ±ã€è§’è‰²å¤´åƒï¼ˆå‡ºè‡ªã€Šè¯·é—®æ‚¨ä»Šå¤©è¦æ¥ç‚¹å…”å­å—ï¼Ÿã€‹ï¼‰

æˆ‘å°†åœ¨åç»­ç‰ˆæœ¬ä¸­æ¨å‡ºå®Œæ•´çš„å¤´åƒæ›´æ¢åŠŸèƒ½ï¼Œæ•¬è¯·æœŸå¾…ï¼

**Q2ï¼šæ›´æ–°é¢‘ç‡ä¸ºä»€ä¹ˆé‚£ä¹ˆæ…¢ï¼Ÿ**

- ğŸ• **å®ä¹ å½±å“**ï¼šç›®å‰æ­£åœ¨è¿›è¡Œå®ä¹ ï¼Œå·¥ä½œæ—¶é—´è¾ƒé•¿ï¼Œä¸šä½™å¼€å‘æ—¶é—´è¢«å‹ç¼©
- âš¡ **è´¨é‡ä¼˜å…ˆ**ï¼šå®æ„¿æ…¢ä¸€äº›ä¹Ÿè¦ä¿è¯æ¯æ¬¡æ›´æ–°çš„è´¨é‡å’Œç¨³å®šæ€§

å¦‚æœ‰ç´§æ€¥é—®é¢˜åæ˜ ï¼Œè¯·é€šè¿‡ [GitHub Issues](https://github.com/KokoaChino/xkql/issues) æˆ– ğŸ“§ 2178740980@qq.com è”ç³»ç»´æŠ¤è€…



## ğŸ“ è”ç³»æ–¹å¼

- **QQï¼š**2178740980
- **å¾®ä¿¡ï¼š**ryu0785
- **GitHub Issues**ï¼šhttps://github.com/KokoaChino/EchoScoringSystem/issues



## ğŸ’Œ åé¦ˆä¸æ”¯æŒ

å¦‚é‡ç³»ç»Ÿå¼‚å¸¸æˆ–æœ‰ä¼˜åŒ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ [GitHub Issues](https://github.com/KokoaChino/xkql/issues) æäº¤åé¦ˆã€‚æ‚¨çš„æ¯ä¸€æ¡æ„è§éƒ½å°†æ¨åŠ¨é¡¹ç›®è¿­ä»£
è‹¥æ‚¨è®¤ä¸ºæ­¤é¡¹ç›®å¯¹æ‚¨æœ‰æ‰€åŠ©ç›Šï¼Œæ‚¨çš„ **Star** æˆ– **Pull Request** å°†æ˜¯æˆ‘æŒç»­æ”¹è¿›çš„æœ€å¤§åŠ¨åŠ›

è¡·å¿ƒæ„Ÿè°¢æ‚¨çš„å…³æ³¨ä¸æ”¯æŒï¼
â€”â€” é¡¹ç›®å¼€å‘è€… æ˜Ÿå¼€ç¥ˆçµ (*Â´âˆ€`)~â™¥ 

![å£°éª¸è¯„åˆ†ç³»ç»Ÿ é¡¹ç›®æ–‡æ¡£-43.png](http://8.138.214.176:5173/é¡¹ç›®å›¾åºŠ/å£°éª¸è¯„åˆ†ç³»ç»Ÿ%20é¡¹ç›®æ–‡æ¡£-43.png?v=3)

